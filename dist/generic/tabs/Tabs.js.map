{"version":3,"file":"Tabs.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_paragon","_i18n","_classnames","_useIndexOfLastVisibleChild","_jsxRuntime","_excluded","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","Tabs","_ref","children","className","attrs","indexOfLastVisibleChild","containerElementRef","invisibleStyle","overflowElementRef","useIndexOfLastVisibleChild","tabChildren","useMemo","childrenArray","React","Children","toArray","indexOfOverflowStart","wrappedChildren","map","child","index","cloneElement","style","overflowChildren","slice","overflowChild","splice","jsx","count","ref","jsxs","Dropdown","Toggle","variant","id","FormattedMessage","description","defaultMessage","Menu","classNames","propTypes","PropTypes","node","string","defaultProps","_default","exports"],"sources":["../../../src/generic/tabs/Tabs.jsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown } from '@edx/paragon';\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport classNames from 'classnames';\n\nimport useIndexOfLastVisibleChild from './useIndexOfLastVisibleChild';\n\nconst Tabs = ({ children, className, ...attrs }) => {\n  const [\n    indexOfLastVisibleChild,\n    containerElementRef,\n    invisibleStyle,\n    overflowElementRef,\n  ] = useIndexOfLastVisibleChild();\n\n  const tabChildren = useMemo(() => {\n    const childrenArray = React.Children.toArray(children);\n    const indexOfOverflowStart = indexOfLastVisibleChild + 1;\n\n    // All tabs will be rendered. Those that would overflow are set to invisible.\n    const wrappedChildren = childrenArray.map((child, index) => React.cloneElement(child, {\n      style: index > indexOfLastVisibleChild ? invisibleStyle : null,\n    }));\n\n    // Build the list of items to put in the overflow menu\n    const overflowChildren = childrenArray.slice(indexOfOverflowStart)\n      .map(overflowChild => React.cloneElement(overflowChild, { className: 'dropdown-item' }));\n\n    // Insert the overflow menu at the cut off index (even if it will be hidden\n    // it so it can be part of measurements)\n    wrappedChildren.splice(\n      indexOfOverflowStart,\n      0, (\n        <div\n          className=\"nav-item flex-shrink-0\"\n          style={indexOfOverflowStart >= React.Children.count(children) ? invisibleStyle : null}\n          ref={overflowElementRef}\n          key=\"overflow\"\n        >\n          <Dropdown className=\"h-100\">\n            <Dropdown.Toggle variant=\"link\" className=\"nav-link h-100\" id=\"learn.course.tabs.navigation.overflow.menu\">\n              <FormattedMessage\n                id=\"learn.course.tabs.navigation.overflow.menu\"\n                description=\"The title of the overflow menu for course tabs\"\n                defaultMessage=\"More...\"\n              />\n            </Dropdown.Toggle>\n            <Dropdown.Menu className=\"dropdown-menu-right\">{overflowChildren}</Dropdown.Menu>\n          </Dropdown>\n        </div>\n      ),\n    );\n    return wrappedChildren;\n  }, [children, indexOfLastVisibleChild, invisibleStyle, overflowElementRef]);\n\n  return (\n    <nav\n      {...attrs}\n      className={classNames('nav flex-nowrap', className)}\n      ref={containerElementRef}\n    >\n      {tabChildren}\n    </nav>\n  );\n};\n\nTabs.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n};\n\nTabs.defaultProps = {\n  children: null,\n  className: undefined,\n};\n\nexport default Tabs;\n"],"mappings":"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"}