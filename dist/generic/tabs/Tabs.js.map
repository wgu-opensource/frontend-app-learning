{"version":3,"sources":["../../../src/generic/tabs/Tabs.jsx"],"names":["Tabs","children","className","attrs","indexOfLastVisibleChild","containerElementRef","invisibleStyle","overflowElementRef","tabChildren","childrenArray","React","Children","toArray","indexOfOverflowStart","wrappedChildren","map","child","index","cloneElement","style","overflowChildren","slice","overflowChild","splice","count","propTypes","PropTypes","node","string","defaultProps","undefined"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;AAEe,SAASA,IAAT,OAAiD;AAAA,MAAnC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAmC;AAAA,MAATC,KAAS;;AAC9D,QAAM,CACJC,uBADI,EAEJC,mBAFI,EAGJC,cAHI,EAIJC,kBAJI,IAKF,0CALJ;AAOA,QAAMC,WAAW,GAAG,oBAAQ,MAAM;AAChC,UAAMC,aAAa,GAAGC,eAAMC,QAAN,CAAeC,OAAf,CAAuBX,QAAvB,CAAtB;;AACA,UAAMY,oBAAoB,GAAGT,uBAAuB,GAAG,CAAvD,CAFgC,CAIhC;;AACA,UAAMU,eAAe,GAAGL,aAAa,CAACM,GAAd,CAAkB,CAACC,KAAD,EAAQC,KAAR,kBAAkBP,eAAMQ,YAAN,CAAmBF,KAAnB,EAA0B;AACpFG,MAAAA,KAAK,EAAEF,KAAK,GAAGb,uBAAR,GAAkCE,cAAlC,GAAmD;AAD0B,KAA1B,CAApC,CAAxB,CALgC,CAShC;;AACA,UAAMc,gBAAgB,GAAGX,aAAa,CAACY,KAAd,CAAoBR,oBAApB,EACtBE,GADsB,CAClBO,aAAa,iBAAIZ,eAAMQ,YAAN,CAAmBI,aAAnB,EAAkC;AAAEpB,MAAAA,SAAS,EAAE;AAAb,KAAlC,CADC,CAAzB,CAVgC,CAahC;AACA;;AACAY,IAAAA,eAAe,CAACS,MAAhB,CAAuBV,oBAAvB,EAA6C,CAA7C,eACE;AACE,MAAA,SAAS,EAAC,wBADZ;AAEE,MAAA,KAAK,EAAEA,oBAAoB,IAAIH,eAAMC,QAAN,CAAea,KAAf,CAAqBvB,QAArB,CAAxB,GAAyDK,cAAzD,GAA0E,IAFnF;AAGE,MAAA,GAAG,EAAEC,kBAHP;AAAA,6BAME,sBAAC,iBAAD;AAAU,QAAA,SAAS,EAAC,OAApB;AAAA,gCACE,qBAAC,iBAAD,CAAU,MAAV;AAAiB,UAAA,OAAO,EAAC,MAAzB;AAAgC,UAAA,SAAS,EAAC,gBAA1C;AAA2D,UAAA,EAAE,EAAC,4CAA9D;AAAA,iCACE,qBAAC,sBAAD;AACE,YAAA,EAAE,EAAC,4CADL;AAEE,YAAA,WAAW,EAAC,gDAFd;AAGE,YAAA,cAAc,EAAC;AAHjB;AADF,UADF,eAQE,qBAAC,iBAAD,CAAU,IAAV;AAAe,UAAA,SAAS,EAAC,qBAAzB;AAAA,oBAAgDa;AAAhD,UARF;AAAA;AANF,OAIM,UAJN,CADF;AAmBA,WAAON,eAAP;AACD,GAnCmB,EAmCjB,CAACb,QAAD,EAAWG,uBAAX,CAnCiB,CAApB;AAqCA,sBACE,4DACMD,KADN;AAEE,IAAA,SAAS,EAAE,yBAAW,iBAAX,EAA8BD,SAA9B,CAFb;AAGE,IAAA,GAAG,EAAEG,mBAHP;AAAA,cAKGG;AALH,KADF;AASD;;AAEDR,IAAI,CAACyB,SAAL,GAAiB;AACfxB,EAAAA,QAAQ,EAAEyB,mBAAUC,IADL;AAEfzB,EAAAA,SAAS,EAAEwB,mBAAUE;AAFN,CAAjB;AAKA5B,IAAI,CAAC6B,YAAL,GAAoB;AAClB5B,EAAAA,QAAQ,EAAE,IADQ;AAElBC,EAAAA,SAAS,EAAE4B;AAFO,CAApB","sourcesContent":["import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown } from '@edx/paragon';\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport classNames from 'classnames';\n\nimport useIndexOfLastVisibleChild from './useIndexOfLastVisibleChild';\n\nexport default function Tabs({ children, className, ...attrs }) {\n  const [\n    indexOfLastVisibleChild,\n    containerElementRef,\n    invisibleStyle,\n    overflowElementRef,\n  ] = useIndexOfLastVisibleChild();\n\n  const tabChildren = useMemo(() => {\n    const childrenArray = React.Children.toArray(children);\n    const indexOfOverflowStart = indexOfLastVisibleChild + 1;\n\n    // All tabs will be rendered. Those that would overflow are set to invisible.\n    const wrappedChildren = childrenArray.map((child, index) => React.cloneElement(child, {\n      style: index > indexOfLastVisibleChild ? invisibleStyle : null,\n    }));\n\n    // Build the list of items to put in the overflow menu\n    const overflowChildren = childrenArray.slice(indexOfOverflowStart)\n      .map(overflowChild => React.cloneElement(overflowChild, { className: 'dropdown-item' }));\n\n    // Insert the overflow menu at the cut off index (even if it will be hidden\n    // it so it can be part of measurements)\n    wrappedChildren.splice(indexOfOverflowStart, 0, (\n      <div\n        className=\"nav-item flex-shrink-0\"\n        style={indexOfOverflowStart >= React.Children.count(children) ? invisibleStyle : null}\n        ref={overflowElementRef}\n        key=\"overflow\"\n      >\n        <Dropdown className=\"h-100\">\n          <Dropdown.Toggle variant=\"link\" className=\"nav-link h-100\" id=\"learn.course.tabs.navigation.overflow.menu\">\n            <FormattedMessage\n              id=\"learn.course.tabs.navigation.overflow.menu\"\n              description=\"The title of the overflow menu for course tabs\"\n              defaultMessage=\"More...\"\n            />\n          </Dropdown.Toggle>\n          <Dropdown.Menu className=\"dropdown-menu-right\">{overflowChildren}</Dropdown.Menu>\n        </Dropdown>\n      </div>\n    ));\n    return wrappedChildren;\n  }, [children, indexOfLastVisibleChild]);\n\n  return (\n    <nav\n      {...attrs}\n      className={classNames('nav flex-nowrap', className)}\n      ref={containerElementRef}\n    >\n      {tabChildren}\n    </nav>\n  );\n}\n\nTabs.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n};\n\nTabs.defaultProps = {\n  children: null,\n  className: undefined,\n};\n"],"file":"Tabs.js"}