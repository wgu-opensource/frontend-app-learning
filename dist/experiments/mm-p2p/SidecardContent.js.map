{"version":3,"sources":["../../../src/experiments/mm-p2p/SidecardContent.jsx"],"names":["AlertBanner","color","children","danger","propTypes","PropTypes","string","isRequired","node","localizeTime","date","toLocaleTimeString","hour","minute","hour12","timeZoneName","localizeDate","toLocaleDateString","month","day","BulletList","marginBottom","Sidecard","options","state","upgradeDeadline","access","accessExpirationDate","price","upgradeUrl","dates","Date","now","upgradeDeadlineTime","upgradeDeadlineDate","daysUntilDeadline","parseInt","hoursUntilDeadline","accessDeadlineDate","certLink","fontSize","fontWeight","marginTop","paddingTop","display","shape","futureDate","numDays","defaultDate","setDate","getDate","defaultProps","accessDeadline"],"mappings":"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","sourcesContent":["/* eslint-disable no-use-before-define */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nconst AlertBanner = ({ color, children }) => (\n  <div\n    className={classNames(\n      'mmp2p-sidecard-alert alert',\n      { danger: color === 'red' },\n    )}\n  >\n    {children}\n  </div>\n);\nAlertBanner.propTypes = {\n  color: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nconst localizeTime = (date) => date.toLocaleTimeString('en-US',\n  {\n    hour: '2-digit', minute: 'numeric', hour12: true, timeZoneName: 'short',\n  });\nconst localizeDate = (date) => date.toLocaleDateString('en-US',\n  { month: 'long', day: 'numeric' });\n\nconst BulletList = ({ children }) => (\n  <div style={{ marginBottom: '3px' }} className=\"mmp2p-bullet-list-item\">\n    <div className=\"icon-container\">\n      <svg\n        aria-hidden=\"true\"\n        focusable=\"false\"\n        data-prefix=\"far\"\n        data-icon=\"check-circle\"\n        className=\"svg-inline--fa fa-check-circle fa-w-16\"\n        role=\"img\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 512 512\"\n      >\n        <path\n          fill=\"currentColor\"\n          d=\"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z\"\n        />\n      </svg>\n    </div>\n    <div className=\"bullet-item-content\">\n      {children}\n    </div>\n  </div>\n);\nBulletList.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nconst Sidecard = ({\n  options: {\n    state: { upgradeDeadline },\n    access: { accessExpirationDate, price, upgradeUrl },\n  },\n}) => {\n  const dates = {\n    upgradeDeadline: new Date(upgradeDeadline),\n    accessExpirationDate: new Date(accessExpirationDate),\n    now: new Date(),\n  };\n  const upgradeDeadlineTime = localizeTime(dates.upgradeDeadline);\n  const upgradeDeadlineDate = localizeDate(dates.upgradeDeadline);\n  const daysUntilDeadline = parseInt((dates.upgradeDeadline - dates.now) / (1000 * 60 * 60 * 24), 10);\n  const hoursUntilDeadline = parseInt((dates.upgradeDeadline - dates.now) / (1000 * 60 * 60), 10);\n\n  const accessDeadlineDate = localizeDate(dates.accessExpirationDate);\n\n  const certLink = (\n    <span className=\"cert-link\">\n      <a\n        id=\"mmp2p-support-link\"\n        href=\"https://www.edx.org/verified-certificate\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        verified certificate\n      </a>\n    </span>\n  );\n\n  return (\n    <div className=\"mmp2p-sidecard-wrapper section\">\n      <h5 className=\"hd hd-6\">\n        Unlock the full course by {upgradeDeadlineDate} at {upgradeDeadlineTime}\n      </h5>\n\n      <AlertBanner color={daysUntilDeadline >= 7 ? 'yellow' : 'red'}>\n        {(daysUntilDeadline > 1) && `${daysUntilDeadline} days left`}\n        {(daysUntilDeadline === 1) && '1 day left'}\n        {(daysUntilDeadline < 1 && hoursUntilDeadline >= 1) && `${hoursUntilDeadline} hours left`}\n        {(daysUntilDeadline < 1 && hoursUntilDeadline < 1) && 'Less than one hour left'}\n      </AlertBanner>\n\n      <div style={{ fontSize: '14px' }}>\n        <BulletList>\n          Unlock your access to all course activities, including\n          &nbsp;<span style={{ fontWeight: 600 }}>graded assignments</span>\n        </BulletList>\n        <BulletList>\n          Earn a {certLink} of completion to showcase on your resum√©\n        </BulletList>\n        <BulletList>\n          Support our <span style={{ fontWeight: 600 }}>mission</span> at edX\n        </BulletList>\n      </div>\n\n      <div style={{ fontSize: '12px', marginTop: '10px', marginBottom: '5px' }}>\n        You will lose access to the first two weeks of scheduled content on {accessDeadlineDate}.\n      </div>\n\n      <div\n        className=\"upgrade-container\"\n        style={{ paddingTop: '15px' }}\n      >\n        <a\n          id=\"green_upgrade\"\n          className=\"btn btn-primary btn-block btn-lg\"\n          href={upgradeUrl}\n          data-creative=\"sidebarupsell\"\n          data-position=\"sidebar-message\"\n          data-ol-has-click-handler=\"\"\n          style={{ display: 'block', fontSize: '1em', fontWeight: 600 }}\n        >\n          Upgrade for <span className=\"price\">{price}</span>\n        </a>\n      </div>\n    </div>\n  );\n};\n\nSidecard.propTypes = {\n  options: PropTypes.shape({\n    state: PropTypes.shape({\n      upgradeDeadline: PropTypes.string.isRequired,\n    }),\n    access: PropTypes.shape({\n      accessExpirationDate: PropTypes.string.isRequired,\n      price: PropTypes.string.isRequired,\n      upgradeUrl: PropTypes.string.isRequired,\n    }),\n  }),\n};\n\nconst futureDate = (numDays) => {\n  const defaultDate = new Date();\n  defaultDate.setDate(defaultDate.getDate() + numDays);\n  return defaultDate;\n};\n\nSidecard.defaultProps = {\n  options: {\n    state: {\n      upgradeDeadline: new Date('Mar 29, 2021 11:59 PM EST'),\n    },\n    access: {\n      accessDeadline: futureDate(24),\n      price: '$23',\n      upgradeUrl: '',\n    },\n  },\n};\n\nexport default Sidecard;\n"],"file":"SidecardContent.js"}