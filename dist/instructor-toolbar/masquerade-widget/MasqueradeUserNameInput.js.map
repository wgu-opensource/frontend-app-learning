{"version":3,"file":"MasqueradeUserNameInput.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_i18n","_paragon","_messages","_jsxRuntime","_excluded","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","MasqueradeUserNameInput","Component","onError","props","onKeyPress","event","onSubmit","payload","role","user_name","then","data","success","global","location","reload","error","catch","message","intl","formatMessage","messages","genericError","render","_this$props","rest","jsx","Input","label","userNameLabel","type","propTypes","intlShape","isRequired","PropTypes","func","_default","injectIntl","exports"],"sources":["../../../src/instructor-toolbar/masquerade-widget/MasqueradeUserNameInput.jsx"],"sourcesContent":["import React, {\n  Component,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Input } from '@edx/paragon';\n\nimport messages from './messages';\n\nclass MasqueradeUserNameInput extends Component {\n  onError(...args) {\n    return this.props.onError(...args);\n  }\n\n  onKeyPress(event) {\n    if (event.key === 'Enter') {\n      return this.onSubmit(event);\n    }\n    return true;\n  }\n\n  onSubmit(event) {\n    const payload = {\n      role: 'student',\n      user_name: event.target.value,\n    };\n    this.props.onSubmit(payload).then((data) => {\n      if (data && data.success) {\n        global.location.reload();\n      } else {\n        const error = (data && data.error) || '';\n        this.onError(error);\n      }\n    }).catch(() => {\n      const message = this.props.intl.formatMessage(messages.genericError);\n      this.onError(message);\n    });\n    return true;\n  }\n\n  render() {\n    const {\n      intl,\n      onError,\n      onSubmit,\n      ...rest\n    } = this.props;\n    return (\n      <Input\n        aria-labelledby=\"masquerade-search-label\"\n        label={intl.formatMessage(messages.userNameLabel)}\n        onKeyPress={(event) => this.onKeyPress(event)}\n        type=\"text\"\n        {...rest}\n      />\n    );\n  }\n}\nMasqueradeUserNameInput.propTypes = {\n  intl: intlShape.isRequired,\n  onError: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default injectIntl(MasqueradeUserNameInput);\n"],"mappings":"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"}