{"version":3,"file":"hooks.js","names":["_reactRedux","require","_modelStore","_userMessages","_messages","_interopRequireDefault","obj","__esModule","default","useSequenceBannerTextAlert","sequenceId","sequence","useModel","sequenceStatus","useSelector","state","courseware","useAlert","bannerText","code","dismissible","text","type","ALERT_TYPES","INFO","topic","useSequenceEntranceExamAlert","courseId","intl","course","entranceExamCurrentScore","entranceExamEnabled","entranceExamId","entranceExamMinimumScorePct","entranceExamPassed","entranceExamData","entranceExamAlertVisible","sectionId","entranceExamText","formatMessage","messages","entranceExamTextPassed","entranceExamTextNotPassing"],"sources":["../../../src/alerts/sequence-alerts/hooks.js"],"sourcesContent":["import { useSelector } from 'react-redux';\n\nimport { useModel } from '../../generic/model-store';\nimport { ALERT_TYPES, useAlert } from '../../generic/user-messages';\n\nimport messages from './messages';\n\nfunction useSequenceBannerTextAlert(sequenceId) {\n  const sequence = useModel('sequences', sequenceId);\n  const sequenceStatus = useSelector(state => state.courseware.sequenceStatus);\n\n  // Show Alert that comes along with the sequence\n  useAlert(sequenceStatus === 'loaded' && sequence.bannerText, {\n    code: null,\n    dismissible: false,\n    text: sequence.bannerText,\n    type: ALERT_TYPES.INFO,\n    topic: 'sequence',\n  });\n}\n\nfunction useSequenceEntranceExamAlert(courseId, sequenceId, intl) {\n  const course = useModel('coursewareMeta', courseId);\n  const sequence = useModel('sequences', sequenceId);\n  const sequenceStatus = useSelector(state => state.courseware.sequenceStatus);\n  const {\n    entranceExamCurrentScore,\n    entranceExamEnabled,\n    entranceExamId,\n    entranceExamMinimumScorePct,\n    entranceExamPassed,\n  } = course.entranceExamData || {};\n  const entranceExamAlertVisible = sequenceStatus === 'loaded' && entranceExamEnabled && entranceExamId === sequence.sectionId;\n  let entranceExamText;\n\n  if (entranceExamPassed) {\n    entranceExamText = intl.formatMessage(\n      messages.entranceExamTextPassed,\n      { entranceExamCurrentScore: entranceExamCurrentScore * 100 },\n    );\n  } else {\n    entranceExamText = intl.formatMessage(messages.entranceExamTextNotPassing, {\n      entranceExamCurrentScore: entranceExamCurrentScore * 100,\n      entranceExamMinimumScorePct: entranceExamMinimumScorePct * 100,\n    });\n  }\n\n  useAlert(entranceExamAlertVisible, {\n    code: null,\n    dismissible: false,\n    text: entranceExamText,\n    type: ALERT_TYPES.INFO,\n    topic: 'sequence',\n  });\n}\n\nexport { useSequenceBannerTextAlert, useSequenceEntranceExamAlert };\n"],"mappings":";;;;;;;AAAA,IAAAA,WAAA,GAAAC,OAAA;AAEA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,aAAA,GAAAF,OAAA;AAEA,IAAAG,SAAA,GAAAC,sBAAA,CAAAJ,OAAA;AAAkC,SAAAI,uBAAAC,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElC,SAASG,0BAA0BA,CAACC,UAAU,EAAE;EAC9C,MAAMC,QAAQ,GAAG,IAAAC,oBAAQ,EAAC,WAAW,EAAEF,UAAU,CAAC;EAClD,MAAMG,cAAc,GAAG,IAAAC,uBAAW,EAACC,KAAK,IAAIA,KAAK,CAACC,UAAU,CAACH,cAAc,CAAC;;EAE5E;EACA,IAAAI,sBAAQ,EAACJ,cAAc,KAAK,QAAQ,IAAIF,QAAQ,CAACO,UAAU,EAAE;IAC3DC,IAAI,EAAE,IAAI;IACVC,WAAW,EAAE,KAAK;IAClBC,IAAI,EAAEV,QAAQ,CAACO,UAAU;IACzBI,IAAI,EAAEC,yBAAW,CAACC,IAAI;IACtBC,KAAK,EAAE;EACT,CAAC,CAAC;AACJ;AAEA,SAASC,4BAA4BA,CAACC,QAAQ,EAAEjB,UAAU,EAAEkB,IAAI,EAAE;EAChE,MAAMC,MAAM,GAAG,IAAAjB,oBAAQ,EAAC,gBAAgB,EAAEe,QAAQ,CAAC;EACnD,MAAMhB,QAAQ,GAAG,IAAAC,oBAAQ,EAAC,WAAW,EAAEF,UAAU,CAAC;EAClD,MAAMG,cAAc,GAAG,IAAAC,uBAAW,EAACC,KAAK,IAAIA,KAAK,CAACC,UAAU,CAACH,cAAc,CAAC;EAC5E,MAAM;IACJiB,wBAAwB;IACxBC,mBAAmB;IACnBC,cAAc;IACdC,2BAA2B;IAC3BC;EACF,CAAC,GAAGL,MAAM,CAACM,gBAAgB,IAAI,CAAC,CAAC;EACjC,MAAMC,wBAAwB,GAAGvB,cAAc,KAAK,QAAQ,IAAIkB,mBAAmB,IAAIC,cAAc,KAAKrB,QAAQ,CAAC0B,SAAS;EAC5H,IAAIC,gBAAgB;EAEpB,IAAIJ,kBAAkB,EAAE;IACtBI,gBAAgB,GAAGV,IAAI,CAACW,aAAa,CACnCC,iBAAQ,CAACC,sBAAsB,EAC/B;MAAEX,wBAAwB,EAAEA,wBAAwB,GAAG;IAAI,CAC7D,CAAC;EACH,CAAC,MAAM;IACLQ,gBAAgB,GAAGV,IAAI,CAACW,aAAa,CAACC,iBAAQ,CAACE,0BAA0B,EAAE;MACzEZ,wBAAwB,EAAEA,wBAAwB,GAAG,GAAG;MACxDG,2BAA2B,EAAEA,2BAA2B,GAAG;IAC7D,CAAC,CAAC;EACJ;EAEA,IAAAhB,sBAAQ,EAACmB,wBAAwB,EAAE;IACjCjB,IAAI,EAAE,IAAI;IACVC,WAAW,EAAE,KAAK;IAClBC,IAAI,EAAEiB,gBAAgB;IACtBhB,IAAI,EAAEC,yBAAW,CAACC,IAAI;IACtBC,KAAK,EAAE;EACT,CAAC,CAAC;AACJ"}