{"version":3,"file":"EnrollmentAlert.js","names":["_react","_interopRequireDefault","require","_i18n","_propTypes","_paragon","_icons","_reactFontawesome","_faSpinner","_modelStore","_messages","_clickHook","_jsxRuntime","obj","__esModule","default","EnrollmentAlert","_ref","intl","payload","canEnroll","courseId","extraText","isStaff","org","useModel","enrollClickHandler","loading","useEnrollClickHandler","formatMessage","messages","success","text","alert","type","icon","WarningFilled","staffAlert","Info","button","jsx","Button","disabled","variant","className","size","style","textDecoration","onClick","children","enrollNowSentence","Alert","jsxs","FontAwesomeIcon","faSpinner","spin","propTypes","intlShape","isRequired","PropTypes","shape","bool","string","_default","injectIntl","exports"],"sources":["../../../src/alerts/enrollment-alert/EnrollmentAlert.jsx"],"sourcesContent":["import React from 'react';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport PropTypes from 'prop-types';\nimport { Alert, Button } from '@edx/paragon';\nimport { Info, WarningFilled } from '@edx/paragon/icons';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport { useModel } from '../../generic/model-store';\n\nimport messages from './messages';\nimport useEnrollClickHandler from './clickHook';\n\nconst EnrollmentAlert = ({ intl, payload }) => {\n  const {\n    canEnroll,\n    courseId,\n    extraText,\n    isStaff,\n  } = payload;\n\n  const {\n    org,\n  } = useModel('courseHomeMeta', courseId);\n\n  const { enrollClickHandler, loading } = useEnrollClickHandler(\n    courseId,\n    org,\n    intl.formatMessage(messages.success),\n  );\n\n  let text = intl.formatMessage(messages.alert);\n  let type = 'warning';\n  let icon = WarningFilled;\n  if (isStaff) {\n    text = intl.formatMessage(messages.staffAlert);\n    type = 'info';\n    icon = Info;\n  } else if (extraText) {\n    text = `${text} ${extraText}`;\n  }\n\n  const button = canEnroll && (\n    <Button disabled={loading} variant=\"link\" className=\"p-0 border-0 align-top mx-1\" size=\"sm\" style={{ textDecoration: 'underline' }} onClick={enrollClickHandler}>\n      {intl.formatMessage(messages.enrollNowSentence)}\n    </Button>\n  );\n\n  return (\n    <Alert variant={type} icon={icon}>\n      <div className=\"d-flex\">\n        {text}\n        {button}\n        {loading && <FontAwesomeIcon icon={faSpinner} spin />}\n      </div>\n    </Alert>\n  );\n};\n\nEnrollmentAlert.propTypes = {\n  intl: intlShape.isRequired,\n  payload: PropTypes.shape({\n    canEnroll: PropTypes.bool,\n    courseId: PropTypes.string,\n    extraText: PropTypes.string,\n    isStaff: PropTypes.bool,\n  }).isRequired,\n};\n\nexport default injectIntl(EnrollmentAlert);\n"],"mappings":"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"}