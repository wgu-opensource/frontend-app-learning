{"version":3,"sources":["../../../src/alerts/access-expiration-alert/hooks.js"],"names":["AccessExpirationAlert","React","lazy","AccessExpirationMasqueradeBanner","useAccessExpirationAlert","accessExpiration","courseId","org","userTimezone","topic","analyticsPageName","isVisible","masqueradingExpiredCourse","payload","code","Object","values","sort","clientAccessExpirationAlert","useAccessExpirationMasqueradeBanner","tab","expirationDate","clientAccessExpirationMasqueradeBanner"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;;;;;AAEA,MAAMA,qBAAqB,gBAAGC,eAAMC,IAAN,CAAW,mEAAa,yBAAb,GAAX,CAA9B;;AACA,MAAMC,gCAAgC,gBAAGF,eAAMC,IAAN,CAAW,mEAAa,oCAAb,GAAX,CAAzC;;AAEA,SAASE,wBAAT,CAAkCC,gBAAlC,EAAoDC,QAApD,EAA8DC,GAA9D,EAAmEC,YAAnE,EAAiFC,KAAjF,EAAwFC,iBAAxF,EAA2G;AACzG,QAAMC,SAAS,GAAGN,gBAAgB,IAAI,CAACA,gBAAgB,CAACO,yBAAxD,CADyG,CACtB;;AACnF,QAAMC,OAAO,GAAG;AACdR,IAAAA,gBADc;AAEdC,IAAAA,QAFc;AAGdC,IAAAA,GAHc;AAIdC,IAAAA,YAJc;AAKdE,IAAAA;AALc,GAAhB;AAQA,8BAASC,SAAT,EAAoB;AAClBG,IAAAA,IAAI,EAAE,6BADY;AAElBD,IAAAA,OAAO,EAAE,oBAAQ,MAAMA,OAAd,EAAuBE,MAAM,CAACC,MAAP,CAAcH,OAAd,EAAuBI,IAAvB,EAAvB,CAFS;AAGlBR,IAAAA;AAHkB,GAApB;AAMA,SAAO;AAAES,IAAAA,2BAA2B,EAAElB;AAA/B,GAAP;AACD;;AAEM,SAASmB,mCAAT,CAA6Cb,QAA7C,EAAuDc,GAAvD,EAA4D;AACjE,QAAM;AACJZ,IAAAA;AADI,MAEF,0BAAS,gBAAT,EAA2BF,QAA3B,CAFJ;AAGA,QAAM;AACJD,IAAAA;AADI,MAEF,0BAASe,GAAT,EAAcd,QAAd,CAFJ;AAIA,QAAMK,SAAS,GAAGN,gBAAgB,IAAIA,gBAAgB,CAACO,yBAAvD;AACA,QAAMS,cAAc,GAAGhB,gBAAgB,IAAIA,gBAAgB,CAACgB,cAA5D;AACA,QAAMR,OAAO,GAAG;AACdQ,IAAAA,cADc;AAEdb,IAAAA;AAFc,GAAhB;AAKA,8BAASG,SAAT,EAAoB;AAClBG,IAAAA,IAAI,EAAE,wCADY;AAElBD,IAAAA,OAAO,EAAE,oBAAQ,MAAMA,OAAd,EAAuBE,MAAM,CAACC,MAAP,CAAcH,OAAd,EAAuBI,IAAvB,EAAvB,CAFS;AAGlBR,IAAAA,KAAK,EAAE;AAHW,GAApB;AAMA,SAAO;AAAEa,IAAAA,sCAAsC,EAAEnB;AAA1C,GAAP;AACD;;eAEcC,wB","sourcesContent":["import React, { useMemo } from 'react';\nimport { useAlert } from '../../generic/user-messages';\nimport { useModel } from '../../generic/model-store';\n\nconst AccessExpirationAlert = React.lazy(() => import('./AccessExpirationAlert'));\nconst AccessExpirationMasqueradeBanner = React.lazy(() => import('./AccessExpirationMasqueradeBanner'));\n\nfunction useAccessExpirationAlert(accessExpiration, courseId, org, userTimezone, topic, analyticsPageName) {\n  const isVisible = accessExpiration && !accessExpiration.masqueradingExpiredCourse; // If it exists, show it.\n  const payload = {\n    accessExpiration,\n    courseId,\n    org,\n    userTimezone,\n    analyticsPageName,\n  };\n\n  useAlert(isVisible, {\n    code: 'clientAccessExpirationAlert',\n    payload: useMemo(() => payload, Object.values(payload).sort()),\n    topic,\n  });\n\n  return { clientAccessExpirationAlert: AccessExpirationAlert };\n}\n\nexport function useAccessExpirationMasqueradeBanner(courseId, tab) {\n  const {\n    userTimezone,\n  } = useModel('courseHomeMeta', courseId);\n  const {\n    accessExpiration,\n  } = useModel(tab, courseId);\n\n  const isVisible = accessExpiration && accessExpiration.masqueradingExpiredCourse;\n  const expirationDate = accessExpiration && accessExpiration.expirationDate;\n  const payload = {\n    expirationDate,\n    userTimezone,\n  };\n\n  useAlert(isVisible, {\n    code: 'clientAccessExpirationMasqueradeBanner',\n    payload: useMemo(() => payload, Object.values(payload).sort()),\n    topic: 'instructor-toolbar-alerts',\n  });\n\n  return { clientAccessExpirationMasqueradeBanner: AccessExpirationMasqueradeBanner };\n}\n\nexport default useAccessExpirationAlert;\n"],"file":"hooks.js"}