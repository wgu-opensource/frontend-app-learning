{"version":3,"sources":["../../../src/alerts/logistration-alert/hooks.js"],"names":["LogistrationAlert","React","lazy","useLogistrationAlert","courseId","authenticatedUser","AppContext","outline","privateOutline","courseBlocks","courses","isVisible","code","topic","dismissible","type","ALERT_TYPES","ERROR","clientLogistrationAlert"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,MAAMA,iBAAiB,gBAAGC,eAAMC,IAAN,CAAW,mEAAa,qBAAb,GAAX,CAA1B;;AAEO,SAASC,oBAAT,CAA8BC,QAA9B,EAAwC;AAC7C,QAAM;AAAEC,IAAAA;AAAF,MAAwB,uBAAWC,kBAAX,CAA9B;AACA,QAAMC,OAAO,GAAG,0BAAS,SAAT,EAAoBH,QAApB,CAAhB;AACA,QAAMI,cAAc,GAAGD,OAAO,IAAIA,OAAO,CAACE,YAAnB,IAAmC,CAACF,OAAO,CAACE,YAAR,CAAqBC,OAAhF;AACA;AACF;AACA;AACA;AACA;;AACE,QAAMC,SAAS,GAAGN,iBAAiB,KAAK,IAAtB,IAA8BG,cAAhD;AAEA,8BAASG,SAAT,EAAoB;AAClBC,IAAAA,IAAI,EAAE,yBADY;AAElBC,IAAAA,KAAK,EAAE,SAFW;AAGlBC,IAAAA,WAAW,EAAE,KAHK;AAIlBC,IAAAA,IAAI,EAAEC,0BAAYC;AAJA,GAApB;AAOA,SAAO;AAAEC,IAAAA,uBAAuB,EAAElB;AAA3B,GAAP;AACD","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport React, { useContext } from 'react';\nimport { AppContext } from '@edx/frontend-platform/react';\nimport { ALERT_TYPES, useAlert } from '../../generic/user-messages';\nimport { useModel } from '../../generic/model-store';\n\nconst LogistrationAlert = React.lazy(() => import('./LogistrationAlert'));\n\nexport function useLogistrationAlert(courseId) {\n  const { authenticatedUser } = useContext(AppContext);\n  const outline = useModel('outline', courseId);\n  const privateOutline = outline && outline.courseBlocks && !outline.courseBlocks.courses;\n  /**\n   * This alert should render if\n   *    1. the user is not authenticated, AND\n   *    2. the course is private.\n   */\n  const isVisible = authenticatedUser === null && privateOutline;\n\n  useAlert(isVisible, {\n    code: 'clientLogistrationAlert',\n    topic: 'outline',\n    dismissible: false,\n    type: ALERT_TYPES.ERROR,\n  });\n\n  return { clientLogistrationAlert: LogistrationAlert };\n}\n"],"file":"hooks.js"}