{"version":3,"sources":["../../../src/alerts/active-enteprise-alert/hooks.js"],"names":["ActiveEnterpriseAlert","React","lazy","useActiveEnterpriseAlert","courseId","courseAccess","isVisible","hasAccess","errorCode","payload","text","userMessage","code","topic","dismissible","type","ALERT_TYPES","ERROR","Object","values","sort","clientActiveEnterpriseAlert"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAEA,MAAMA,qBAAqB,gBAAGC,eAAMC,IAAN,CAAW,mEAAa,yBAAb,GAAX,CAA9B;;AAEe,SAASC,wBAAT,CAAkCC,QAAlC,EAA4C;AACzD,QAAM;AAAEC,IAAAA;AAAF,MAAmB,0BAAS,gBAAT,EAA2BD,QAA3B,CAAzB;AACA;AACF;AACA;AACA;;AACE,QAAME,SAAS,GAAGD,YAAY,IAAI,CAACA,YAAY,CAACE,SAA9B,IAA2CF,YAAY,CAACG,SAAb,KAA2B,6BAAxF;AAEA,QAAMC,OAAO,GAAG;AACdC,IAAAA,IAAI,EAAEL,YAAY,IAAIA,YAAY,CAACM,WADrB;AAEdP,IAAAA;AAFc,GAAhB;AAIA,8BAASE,SAAT,EAAoB;AAClBM,IAAAA,IAAI,EAAE,6BADY;AAElBC,IAAAA,KAAK,EAAE,SAFW;AAGlBC,IAAAA,WAAW,EAAE,KAHK;AAIlBC,IAAAA,IAAI,EAAEC,0BAAYC,KAJA;AAKlBR,IAAAA,OAAO,EAAE,oBAAQ,MAAMA,OAAd,EAAuBS,MAAM,CAACC,MAAP,CAAcV,OAAd,EAAuBW,IAAvB,EAAvB;AALS,GAApB;AAQA,SAAO;AAAEC,IAAAA,2BAA2B,EAAErB;AAA/B,GAAP;AACD","sourcesContent":["import React, { useMemo } from 'react';\nimport { ALERT_TYPES, useAlert } from '../../generic/user-messages';\nimport { useModel } from '../../generic/model-store';\n\nconst ActiveEnterpriseAlert = React.lazy(() => import('./ActiveEnterpriseAlert'));\n\nexport default function useActiveEnterpriseAlert(courseId) {\n  const { courseAccess } = useModel('courseHomeMeta', courseId);\n  /**\n   * This alert should render if\n   *    1. course access code is incorrect_active_enterprise\n   */\n  const isVisible = courseAccess && !courseAccess.hasAccess && courseAccess.errorCode === 'incorrect_active_enterprise';\n\n  const payload = {\n    text: courseAccess && courseAccess.userMessage,\n    courseId,\n  };\n  useAlert(isVisible, {\n    code: 'clientActiveEnterpriseAlert',\n    topic: 'outline',\n    dismissible: false,\n    type: ALERT_TYPES.ERROR,\n    payload: useMemo(() => payload, Object.values(payload).sort()),\n  });\n\n  return { clientActiveEnterpriseAlert: ActiveEnterpriseAlert };\n}\n"],"file":"hooks.js"}