{"version":3,"file":"CourseStartAlert.js","names":["_react","_interopRequireDefault","require","_propTypes","_i18n","_paragon","_icons","_modelStore","_jsxRuntime","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","DAY_SEC","DAY_MS","YEAR_SEC","CourseStartAlert","_ref","payload","courseId","start","startDate","userTimezone","useModel","timezoneFormatArgs","timeZone","delta","Date","timeRemaining","jsx","FormattedRelativeTime","numeric","updateIntervalInSeconds","Alert","variant","icon","Info","children","FormattedMessage","id","defaultMessage","description","values","courseStartTime","FormattedTime","day","month","year","timeZoneName","jsxs","courseStartDate","FormattedDate","propTypes","PropTypes","shape","string","isRequired","_default","exports"],"sources":["../../../src/alerts/course-start-alert/CourseStartAlert.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  FormattedDate,\n  FormattedMessage,\n  FormattedRelativeTime,\n  FormattedTime,\n} from '@edx/frontend-platform/i18n';\nimport { Alert } from '@edx/paragon';\nimport { Info } from '@edx/paragon/icons';\n\nimport { useModel } from '../../generic/model-store';\n\nconst DAY_SEC = 24 * 60 * 60; // in seconds\nconst DAY_MS = DAY_SEC * 1000; // in ms\nconst YEAR_SEC = 365 * DAY_SEC; // in seconds\n\nconst CourseStartAlert = ({ payload }) => {\n  const {\n    courseId,\n  } = payload;\n\n  const {\n    start: startDate,\n    userTimezone,\n  } = useModel('courseHomeMeta', courseId);\n\n  const timezoneFormatArgs = userTimezone ? { timeZone: userTimezone } : {};\n\n  const delta = new Date(startDate) - new Date();\n  const timeRemaining = (\n    <FormattedRelativeTime\n      key=\"timeRemaining\"\n      value={delta / 1000}\n      numeric=\"auto\"\n      // 1 year interval to help auto format. It won't format without updateIntervalInSeconds.\n      updateIntervalInSeconds={YEAR_SEC}\n      {...timezoneFormatArgs}\n    />\n  );\n  if (delta < DAY_MS) {\n    return (\n      <Alert variant=\"info\" icon={Info}>\n        <FormattedMessage\n          id=\"learning.outline.alert.start.short\"\n          defaultMessage=\"Course starts {timeRemaining} at {courseStartTime}.\"\n          description=\"Used when the time remaining is less than a day away.\"\n          values={{\n            courseStartTime: (\n              <FormattedTime\n                key=\"courseStartTime\"\n                day=\"numeric\"\n                month=\"short\"\n                year=\"numeric\"\n                timeZoneName=\"short\"\n                value={startDate}\n                {...timezoneFormatArgs}\n              />\n            ),\n            timeRemaining,\n          }}\n        />\n      </Alert>\n    );\n  }\n\n  return (\n    <Alert variant=\"info\" icon={Info}>\n      <strong>\n        <FormattedMessage\n          id=\"learning.outline.alert.start.long\"\n          defaultMessage=\"Course starts {timeRemaining} on {courseStartDate}.\"\n          description=\"Used when the time remaining is more than a day away.\"\n          values={{\n            courseStartDate: (\n              <FormattedDate\n                key=\"courseStartDate\"\n                day=\"numeric\"\n                month=\"short\"\n                year=\"numeric\"\n                value={startDate}\n                {...timezoneFormatArgs}\n              />\n            ),\n            timeRemaining,\n          }}\n        />\n      </strong>\n      <br />\n      <FormattedMessage\n        id=\"learning.outline.alert.start.calendar\"\n        defaultMessage=\"Donâ€™t forget to add a calendar reminder!\"\n        description=\"It's just a recommendation for learners to set a reminder for the course starting date and is shown when the course starting date is more than a day. \"\n      />\n    </Alert>\n  );\n};\n\nCourseStartAlert.propTypes = {\n  payload: PropTypes.shape({\n    courseId: PropTypes.string,\n  }).isRequired,\n};\n\nexport default CourseStartAlert;\n"],"mappings":"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"}