{"version":3,"file":"LaunchCourseHomeTourButton.js","names":["_react","_interopRequireDefault","require","_propTypes","_reactRedux","_analytics","_auth","_i18n","_paragon","_icons","_modelStore","_slice","_messages","_jsxRuntime","obj","__esModule","default","LaunchCourseHomeTourButton","_ref","intl","srOnly","courseId","useSelector","state","courseHome","org","useModel","toursEnabled","tours","dispatch","useDispatch","handleClick","administrator","getAuthenticatedUser","sendTrackEvent","org_key","courserun_key","is_staff","tour_variant","launchCourseHomeTour","jsx","Fragment","children","jsxs","Button","variant","size","className","onClick","Icon","src","Compass","style","height","width","formatMessage","messages","launchTour","defaultProps","propTypes","intlShape","isRequired","PropTypes","bool","_default","injectIntl","exports"],"sources":["../../../src/product-tours/newUserCourseHomeTour/LaunchCourseHomeTourButton.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { sendTrackEvent } from '@edx/frontend-platform/analytics';\nimport { getAuthenticatedUser } from '@edx/frontend-platform/auth';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Button, Icon } from '@edx/paragon';\nimport { Compass } from '@edx/paragon/icons';\n\nimport { useModel } from '../../generic/model-store';\nimport { launchCourseHomeTour } from '../data/slice';\nimport messages from '../messages';\n\nconst LaunchCourseHomeTourButton = ({ intl, srOnly }) => {\n  const {\n    courseId,\n  } = useSelector(state => state.courseHome);\n\n  const {\n    org,\n  } = useModel('courseHomeMeta', courseId);\n\n  const {\n    toursEnabled,\n  } = useSelector(state => state.tours);\n\n  const dispatch = useDispatch();\n\n  const handleClick = () => {\n    const { administrator } = getAuthenticatedUser();\n    sendTrackEvent('edx.ui.lms.launch_tour.clicked', {\n      org_key: org,\n      courserun_key: courseId,\n      is_staff: administrator,\n      tour_variant: 'course_home',\n    });\n\n    dispatch(launchCourseHomeTour());\n  };\n\n  return (\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    <>\n      {toursEnabled && (\n        <Button variant=\"link\" size=\"inline\" className={`p-0 ${srOnly && 'sr-only sr-only-focusable'}`} onClick={handleClick}>\n          {!srOnly && (\n            <Icon\n              src={Compass}\n              className=\"mr-2\"\n              style={{ height: '18px', width: '18px' }}\n            />\n          )}\n          {intl.formatMessage(messages.launchTour)}\n        </Button>\n      )}\n    </>\n  );\n};\n\nLaunchCourseHomeTourButton.defaultProps = {\n  srOnly: false,\n};\n\nLaunchCourseHomeTourButton.propTypes = {\n  intl: intlShape.isRequired,\n  srOnly: PropTypes.bool,\n};\n\nexport default injectIntl(LaunchCourseHomeTourButton);\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AAEA,IAAAG,UAAA,GAAAH,OAAA;AACA,IAAAI,KAAA,GAAAJ,OAAA;AACA,IAAAK,KAAA,GAAAL,OAAA;AACA,IAAAM,QAAA,GAAAN,OAAA;AACA,IAAAO,MAAA,GAAAP,OAAA;AAEA,IAAAQ,WAAA,GAAAR,OAAA;AACA,IAAAS,MAAA,GAAAT,OAAA;AACA,IAAAU,SAAA,GAAAX,sBAAA,CAAAC,OAAA;AAAmC,IAAAW,WAAA,GAAAX,OAAA;AAAA,SAAAD,uBAAAa,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnC,MAAMG,0BAA0B,GAAGC,IAAA,IAAsB;EAAA,IAArB;IAAEC,IAAI;IAAEC;EAAO,CAAC,GAAAF,IAAA;EAClD,MAAM;IACJG;EACF,CAAC,GAAG,IAAAC,uBAAW,EAACC,KAAK,IAAIA,KAAK,CAACC,UAAU,CAAC;EAE1C,MAAM;IACJC;EACF,CAAC,GAAG,IAAAC,oBAAQ,EAAC,gBAAgB,EAAEL,QAAQ,CAAC;EAExC,MAAM;IACJM;EACF,CAAC,GAAG,IAAAL,uBAAW,EAACC,KAAK,IAAIA,KAAK,CAACK,KAAK,CAAC;EAErC,MAAMC,QAAQ,GAAG,IAAAC,uBAAW,EAAC,CAAC;EAE9B,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxB,MAAM;MAAEC;IAAc,CAAC,GAAG,IAAAC,0BAAoB,EAAC,CAAC;IAChD,IAAAC,yBAAc,EAAC,gCAAgC,EAAE;MAC/CC,OAAO,EAAEV,GAAG;MACZW,aAAa,EAAEf,QAAQ;MACvBgB,QAAQ,EAAEL,aAAa;MACvBM,YAAY,EAAE;IAChB,CAAC,CAAC;IAEFT,QAAQ,CAAC,IAAAU,2BAAoB,EAAC,CAAC,CAAC;EAClC,CAAC;EAED;IAAA;IACE;IACA,IAAA1B,WAAA,CAAA2B,GAAA,EAAA3B,WAAA,CAAA4B,QAAA;MAAAC,QAAA,EACGf,YAAY,iBACX,IAAAd,WAAA,CAAA8B,IAAA,EAACnC,QAAA,CAAAoC,MAAM;QAACC,OAAO,EAAC,MAAM;QAACC,IAAI,EAAC,QAAQ;QAACC,SAAS,EAAG,OAAM3B,MAAM,IAAI,2BAA4B,EAAE;QAAC4B,OAAO,EAAEjB,WAAY;QAAAW,QAAA,GAClH,CAACtB,MAAM,iBACN,IAAAP,WAAA,CAAA2B,GAAA,EAAChC,QAAA,CAAAyC,IAAI;UACHC,GAAG,EAAEC,cAAQ;UACbJ,SAAS,EAAC,MAAM;UAChBK,KAAK,EAAE;YAAEC,MAAM,EAAE,MAAM;YAAEC,KAAK,EAAE;UAAO;QAAE,CAC1C,CACF,EACAnC,IAAI,CAACoC,aAAa,CAACC,iBAAQ,CAACC,UAAU,CAAC;MAAA,CAClC;IACT,CACD;EAAC;AAEP,CAAC;AAEDxC,0BAA0B,CAACyC,YAAY,GAAG;EACxCtC,MAAM,EAAE;AACV,CAAC;AAEDH,0BAA0B,CAAC0C,SAAS,GAAG;EACrCxC,IAAI,EAAEyC,eAAS,CAACC,UAAU;EAC1BzC,MAAM,EAAE0C,kBAAS,CAACC;AACpB,CAAC;AAAC,IAAAC,QAAA,GAEa,IAAAC,gBAAU,EAAChD,0BAA0B,CAAC;AAAAiD,OAAA,CAAAlD,OAAA,GAAAgD,QAAA"}