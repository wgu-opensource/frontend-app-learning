{"version":3,"file":"Day.js","names":["_react","_interopRequireDefault","require","_propTypes","_classnames","_reactRedux","_i18n","_paragon","_faInfoCircle","_reactFontawesome","_modelStore","_badgelist","_utils","_jsxRuntime","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","Day","_ref","date","first","intl","items","last","courseId","useSelector","state","courseHome","userTimezone","useModel","timezoneFormatArgs","timeZone","color","badges","getBadgeListAndColor","jsxs","className","children","jsx","classNames","FormattedDate","day","month","weekday","year","map","item","itemBadges","showDueDateTime","dateType","showLink","link","isLearnerAssignment","title","href","available","learnerHasAccess","textColor","assignmentType","FormattedTime","timeZoneName","extraInfo","OverlayTrigger","placement","overlay","Tooltip","FontAwesomeIcon","icon","faInfoCircle","description","propTypes","PropTypes","objectOf","Date","isRequired","bool","intlShape","arrayOf","shape","string","dueNext","defaultProps","_default","injectIntl","exports"],"sources":["../../../../src/course-home/dates-tab/timeline/Day.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\nimport {\n  FormattedDate,\n  FormattedTime,\n  injectIntl,\n  intlShape,\n} from '@edx/frontend-platform/i18n';\nimport { Tooltip, OverlayTrigger } from '@edx/paragon';\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport { useModel } from '../../../generic/model-store';\n\nimport { getBadgeListAndColor } from './badgelist';\nimport { isLearnerAssignment } from '../utils';\n\nconst Day = ({\n  date,\n  first,\n  intl,\n  items,\n  last,\n}) => {\n  const {\n    courseId,\n  } = useSelector(state => state.courseHome);\n  const {\n    userTimezone,\n  } = useModel('courseHomeMeta', courseId);\n\n  const timezoneFormatArgs = userTimezone ? { timeZone: userTimezone } : {};\n\n  const { color, badges } = getBadgeListAndColor(date, intl, null, items);\n\n  return (\n    <li className=\"dates-day pb-4\" data-testid=\"dates-day\">\n      {/* Top Line */}\n      {!first && <div className=\"dates-line-top border-1 border-left border-gray-900 bg-gray-900\" />}\n\n      {/* Dot */}\n      <div className={classNames(color, 'dates-dot border border-gray-900')} />\n\n      {/* Bottom Line */}\n      {!last && <div className=\"dates-line-bottom border-1 border-left border-gray-900 bg-gray-900\" />}\n\n      {/* Content */}\n      <div className=\"d-inline-block ml-3 pl-2\">\n        <div className=\"row w-100 m-0 mb-1 align-items-center text-primary-700\" data-testid=\"dates-header\">\n          <FormattedDate\n            value={date}\n            day=\"numeric\"\n            month=\"short\"\n            weekday=\"short\"\n            year=\"numeric\"\n            {...timezoneFormatArgs}\n          />\n          {badges}\n        </div>\n        {items.map((item) => {\n          const { badges: itemBadges } = getBadgeListAndColor(date, intl, item, items);\n\n          const showDueDateTime = item.dateType === 'assignment-due-date';\n          const showLink = item.link && isLearnerAssignment(item);\n          const title = showLink ? (<u><a href={item.link} className=\"text-reset\">{item.title}</a></u>) : item.title;\n          const available = item.learnerHasAccess && (item.link || !isLearnerAssignment(item));\n          const textColor = available ? 'text-primary-700' : 'text-gray-500';\n\n          return (\n            <div key={item.title + item.date} className={classNames(textColor, 'small pb-1')} data-testid=\"dates-item\">\n              <div>\n                <span className=\"small\">\n                  <span className=\"font-weight-bold\">{item.assignmentType && `${item.assignmentType}: `}{title}</span>\n                  {showDueDateTime && (\n                    <span>\n                      <span className=\"mx-1\">due</span>\n                      <FormattedTime\n                        value={date}\n                        timeZoneName=\"short\"\n                        {...timezoneFormatArgs}\n                      />\n                    </span>\n                  )}\n                </span>\n                {itemBadges}\n                {item.extraInfo && (\n                  <OverlayTrigger\n                    placement=\"bottom\"\n                    overlay={\n                      <Tooltip>{item.extraInfo}</Tooltip>\n                    }\n                  >\n                    <FontAwesomeIcon icon={faInfoCircle} className=\"fa-xs ml-1 text-gray-700\" data-testid=\"dates-extra-info\" />\n                  </OverlayTrigger>\n                )}\n              </div>\n              {item.description && <div className=\"small mb-2\">{item.description}</div>}\n            </div>\n          );\n        })}\n      </div>\n    </li>\n  );\n};\n\nDay.propTypes = {\n  date: PropTypes.objectOf(Date).isRequired,\n  first: PropTypes.bool,\n  intl: intlShape.isRequired,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    date: PropTypes.string,\n    dateType: PropTypes.string,\n    description: PropTypes.string,\n    dueNext: PropTypes.bool,\n    learnerHasAccess: PropTypes.bool,\n    link: PropTypes.string,\n    title: PropTypes.string,\n  })).isRequired,\n  last: PropTypes.bool,\n};\n\nDay.defaultProps = {\n  first: false,\n  last: false,\n};\n\nexport default injectIntl(Day);\n"],"mappings":"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"}