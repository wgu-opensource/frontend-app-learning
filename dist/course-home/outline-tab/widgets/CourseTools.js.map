{"version":3,"sources":["../../../../src/course-home/outline-tab/widgets/CourseTools.jsx"],"names":["CourseTools","intl","courseId","state","courseHome","org","courseTools","length","eventProperties","org_key","courserun_key","logClick","analyticsId","administrator","course_id","is_staff","tool_name","renderIcon","iconClasses","faBookmark","faCertificate","faInfo","faCalendar","faNewspaper","faStar","formatMessage","messages","tools","map","courseTool","url","title","propTypes","intlShape","isRequired"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;AAMA;;AACA;;AACA;;;;;;;;;;;;AAEA,SAASA,WAAT,OAA+B;AAAA,MAAV;AAAEC,IAAAA;AAAF,GAAU;AAC7B,QAAM;AACJC,IAAAA;AADI,MAEF,6BAAYC,KAAK,IAAIA,KAAK,CAACC,UAA3B,CAFJ;AAGA,QAAM;AAAEC,IAAAA;AAAF,MAAU,0BAAS,gBAAT,EAA2BH,QAA3B,CAAhB;AACA,QAAM;AACJI,IAAAA;AADI,MAEF,0BAAS,SAAT,EAAoBJ,QAApB,CAFJ;;AAIA,MAAII,WAAW,CAACC,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,WAAO,IAAP;AACD;;AAED,QAAMC,eAAe,GAAG;AACtBC,IAAAA,OAAO,EAAEJ,GADa;AAEtBK,IAAAA,aAAa,EAAER;AAFO,GAAxB;;AAKA,QAAMS,QAAQ,GAAIC,WAAD,IAAiB;AAChC,UAAM;AAAEC,MAAAA;AAAF,QAAoB,iCAA1B;AACA,yCAAqB,0BAArB,kCACKL,eADL;AAEEM,MAAAA,SAAS,EAAEZ,QAFb;AAEuB;AACrBa,MAAAA,QAAQ,EAAEF,aAHZ;AAIEG,MAAAA,SAAS,EAAEJ;AAJb;AAMD,GARD;;AAUA,QAAMK,UAAU,GAAIC,WAAD,IAAiB;AAClC,YAAQA,WAAR;AACE,WAAK,eAAL;AACE,eAAOC,sBAAP;;AACF,WAAK,2BAAL;AACE,eAAOC,4BAAP;;AACF,WAAK,+BAAL;AACE,eAAOC,cAAP;;AACF,WAAK,mBAAL;AACE,eAAOC,sBAAP;;AACF,WAAK,aAAL;AACE,eAAOC,wBAAP;;AACF,WAAK,aAAL;AACE,eAAOC,cAAP;;AACF;AACE,eAAO,IAAP;AAdJ;AAgBD,GAjBD;;AAmBA,sBACE;AAAS,IAAA,SAAS,EAAC,MAAnB;AAAA,4BACE;AAAI,MAAA,SAAS,EAAC,IAAd;AAAA,gBAAoBvB,IAAI,CAACwB,aAAL,CAAmBC,kBAASC,KAA5B;AAApB,MADF,eAEE;AAAI,MAAA,SAAS,EAAC,eAAd;AAAA,iBACGrB,WAAW,CAACsB,GAAZ,CAAiBC,UAAD,iBACf;AAAiC,QAAA,SAAS,EAAC,OAA3C;AAAA,+BACE;AAAG,UAAA,IAAI,EAAEA,UAAU,CAACC,GAApB;AAAyB,UAAA,OAAO,EAAE,MAAMnB,QAAQ,CAACkB,UAAU,CAACjB,WAAZ,CAAhD;AAAA,kCACE,qBAAC,iCAAD;AAAiB,YAAA,IAAI,EAAEK,UAAU,CAACY,UAAU,CAACjB,WAAZ,CAAjC;AAA2D,YAAA,SAAS,EAAC,MAArE;AAA4E,YAAA,UAAU;AAAtF,YADF,EAEGiB,UAAU,CAACE,KAFd;AAAA;AADF,SAASF,UAAU,CAACjB,WAApB,CADD,CADH,eASE;AAAI,QAAA,SAAS,EAAC,OAAd;AAAsB,QAAA,EAAE,EAAC,2BAAzB;AAAA,+BACE,qBAAC,mCAAD;AADF,QATF;AAAA,MAFF;AAAA,IADF;AAkBD;;AAEDZ,WAAW,CAACgC,SAAZ,GAAwB;AACtB/B,EAAAA,IAAI,EAAEgC,gBAAUC;AADM,CAAxB;;eAIe,sBAAWlC,WAAX,C","sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { sendTrackingLogEvent } from '@edx/frontend-platform/analytics';\nimport { getAuthenticatedUser } from '@edx/frontend-platform/auth';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faBookmark, faCertificate, faInfo, faCalendar, faStar,\n} from '@fortawesome/free-solid-svg-icons';\nimport { faNewspaper } from '@fortawesome/free-regular-svg-icons';\n\nimport messages from '../messages';\nimport { useModel } from '../../../generic/model-store';\nimport LaunchCourseHomeTourButton from '../../../product-tours/newUserCourseHomeTour/LaunchCourseHomeTourButton';\n\nfunction CourseTools({ intl }) {\n  const {\n    courseId,\n  } = useSelector(state => state.courseHome);\n  const { org } = useModel('courseHomeMeta', courseId);\n  const {\n    courseTools,\n  } = useModel('outline', courseId);\n\n  if (courseTools.length === 0) {\n    return null;\n  }\n\n  const eventProperties = {\n    org_key: org,\n    courserun_key: courseId,\n  };\n\n  const logClick = (analyticsId) => {\n    const { administrator } = getAuthenticatedUser();\n    sendTrackingLogEvent('edx.course.tool.accessed', {\n      ...eventProperties,\n      course_id: courseId, // should only be courserun_key, but left as-is for historical reasons\n      is_staff: administrator,\n      tool_name: analyticsId,\n    });\n  };\n\n  const renderIcon = (iconClasses) => {\n    switch (iconClasses) {\n      case 'edx.bookmarks':\n        return faBookmark;\n      case 'edx.tool.verified_upgrade':\n        return faCertificate;\n      case 'edx.tool.financial_assistance':\n        return faInfo;\n      case 'edx.calendar-sync':\n        return faCalendar;\n      case 'edx.updates':\n        return faNewspaper;\n      case 'edx.reviews':\n        return faStar;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <section className=\"mb-4\">\n      <h2 className=\"h4\">{intl.formatMessage(messages.tools)}</h2>\n      <ul className=\"list-unstyled\">\n        {courseTools.map((courseTool) => (\n          <li key={courseTool.analyticsId} className=\"small\">\n            <a href={courseTool.url} onClick={() => logClick(courseTool.analyticsId)}>\n              <FontAwesomeIcon icon={renderIcon(courseTool.analyticsId)} className=\"mr-2\" fixedWidth />\n              {courseTool.title}\n            </a>\n          </li>\n        ))}\n        <li className=\"small\" id=\"courseHome-launchTourLink\">\n          <LaunchCourseHomeTourButton />\n        </li>\n      </ul>\n    </section>\n  );\n}\n\nCourseTools.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(CourseTools);\n"],"file":"CourseTools.js"}