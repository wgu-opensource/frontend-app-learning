{"version":3,"file":"CourseEndAlert.js","names":["_react","_interopRequireDefault","require","_propTypes","_i18n","_paragon","_icons","_jsxRuntime","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","DAY_SEC","DAY_MS","YEAR_SEC","CourseEndAlert","_ref","payload","description","endDate","userTimezone","timezoneFormatArgs","timeZone","msg","delta","Date","timeRemaining","jsx","FormattedRelativeTime","numeric","updateIntervalInSeconds","courseEndTime","FormattedTime","day","month","year","timeZoneName","FormattedMessage","id","defaultMessage","values","courseEndDate","FormattedDate","jsxs","Alert","variant","icon","Info","children","propTypes","PropTypes","shape","string","isRequired","_default","exports"],"sources":["../../../../../src/course-home/outline-tab/alerts/course-end-alert/CourseEndAlert.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  FormattedDate,\n  FormattedMessage,\n  FormattedRelativeTime,\n  FormattedTime,\n} from '@edx/frontend-platform/i18n';\nimport { Alert } from '@edx/paragon';\nimport { Info } from '@edx/paragon/icons';\n\nconst DAY_SEC = 24 * 60 * 60; // in seconds\nconst DAY_MS = DAY_SEC * 1000; // in ms\nconst YEAR_SEC = 365 * DAY_SEC; // in seconds\n\nconst CourseEndAlert = ({ payload }) => {\n  const {\n    description,\n    endDate,\n    userTimezone,\n  } = payload;\n\n  const timezoneFormatArgs = userTimezone ? { timeZone: userTimezone } : {};\n\n  let msg;\n  const delta = new Date(endDate) - new Date();\n  const timeRemaining = (\n    <FormattedRelativeTime\n      key=\"timeRemaining\"\n      value={delta / 1000}\n      numeric=\"auto\"\n      // 1 year interval to help auto format. It won't format without updateIntervalInSeconds.\n      updateIntervalInSeconds={YEAR_SEC}\n      {...timezoneFormatArgs}\n    />\n  );\n\n  if (delta < DAY_MS) {\n    const courseEndTime = (\n      <FormattedTime\n        key=\"courseEndTime\"\n        day=\"numeric\"\n        month=\"short\"\n        year=\"numeric\"\n        timeZoneName=\"short\"\n        value={endDate}\n        {...timezoneFormatArgs}\n      />\n    );\n    msg = (\n      <FormattedMessage\n        id=\"learning.outline.alert.end.short\"\n        defaultMessage=\"This course is ending {timeRemaining} at {courseEndTime}.\"\n        description=\"Used when the time remaining is less than a day away.\"\n        values={{\n          courseEndTime,\n          timeRemaining,\n        }}\n      />\n    );\n  } else {\n    const courseEndDate = (\n      <FormattedDate\n        key=\"courseEndDate\"\n        day=\"numeric\"\n        month=\"short\"\n        year=\"numeric\"\n        value={endDate}\n        {...timezoneFormatArgs}\n      />\n    );\n    msg = (\n      <FormattedMessage\n        id=\"learning.outline.alert.end.long\"\n        defaultMessage=\"This course is ending {timeRemaining} on {courseEndDate}.\"\n        description=\"Used when the time remaining is more than a day away.\"\n        values={{\n          courseEndDate,\n          timeRemaining,\n        }}\n      />\n    );\n  }\n\n  return (\n    <Alert variant=\"info\" icon={Info}>\n      <strong>{msg}</strong><br />\n      {description}\n    </Alert>\n  );\n};\n\nCourseEndAlert.propTypes = {\n  payload: PropTypes.shape({\n    description: PropTypes.string,\n    endDate: PropTypes.string,\n    userTimezone: PropTypes.string,\n  }).isRequired,\n};\n\nexport default CourseEndAlert;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAMA,IAAAG,QAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AAA0C,IAAAK,WAAA,GAAAL,OAAA;AAAA,SAAAD,uBAAAO,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,QAAAC,MAAA,EAAAC,cAAA,QAAAC,IAAA,GAAAC,MAAA,CAAAD,IAAA,CAAAF,MAAA,OAAAG,MAAA,CAAAC,qBAAA,QAAAC,OAAA,GAAAF,MAAA,CAAAC,qBAAA,CAAAJ,MAAA,GAAAC,cAAA,KAAAI,OAAA,GAAAA,OAAA,CAAAC,MAAA,WAAAC,GAAA,WAAAJ,MAAA,CAAAK,wBAAA,CAAAR,MAAA,EAAAO,GAAA,EAAAE,UAAA,OAAAP,IAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,IAAA,EAAAG,OAAA,YAAAH,IAAA;AAAA,SAAAU,cAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,WAAAF,SAAA,CAAAD,CAAA,IAAAC,SAAA,CAAAD,CAAA,QAAAA,CAAA,OAAAf,OAAA,CAAAI,MAAA,CAAAc,MAAA,OAAAC,OAAA,WAAAC,GAAA,IAAAC,eAAA,CAAAP,MAAA,EAAAM,GAAA,EAAAF,MAAA,CAAAE,GAAA,SAAAhB,MAAA,CAAAkB,yBAAA,GAAAlB,MAAA,CAAAmB,gBAAA,CAAAT,MAAA,EAAAV,MAAA,CAAAkB,yBAAA,CAAAJ,MAAA,KAAAlB,OAAA,CAAAI,MAAA,CAAAc,MAAA,GAAAC,OAAA,WAAAC,GAAA,IAAAhB,MAAA,CAAAoB,cAAA,CAAAV,MAAA,EAAAM,GAAA,EAAAhB,MAAA,CAAAK,wBAAA,CAAAS,MAAA,EAAAE,GAAA,iBAAAN,MAAA;AAAA,SAAAO,gBAAAxB,GAAA,EAAAuB,GAAA,EAAAK,KAAA,IAAAL,GAAA,GAAAM,cAAA,CAAAN,GAAA,OAAAA,GAAA,IAAAvB,GAAA,IAAAO,MAAA,CAAAoB,cAAA,CAAA3B,GAAA,EAAAuB,GAAA,IAAAK,KAAA,EAAAA,KAAA,EAAAf,UAAA,QAAAiB,YAAA,QAAAC,QAAA,oBAAA/B,GAAA,CAAAuB,GAAA,IAAAK,KAAA,WAAA5B,GAAA;AAAA,SAAA6B,eAAAG,GAAA,QAAAT,GAAA,GAAAU,YAAA,CAAAD,GAAA,2BAAAT,GAAA,gBAAAA,GAAA,GAAAW,MAAA,CAAAX,GAAA;AAAA,SAAAU,aAAAE,KAAA,EAAAC,IAAA,eAAAD,KAAA,iBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAG,SAAA,QAAAC,GAAA,GAAAJ,IAAA,CAAAK,IAAA,CAAAP,KAAA,EAAAC,IAAA,2BAAAK,GAAA,sBAAAA,GAAA,YAAAE,SAAA,4DAAAP,IAAA,gBAAAF,MAAA,GAAAU,MAAA,EAAAT,KAAA;AAE1C,MAAMU,OAAO,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;AAC9B,MAAMC,MAAM,GAAGD,OAAO,GAAG,IAAI,CAAC,CAAC;AAC/B,MAAME,QAAQ,GAAG,GAAG,GAAGF,OAAO,CAAC,CAAC;;AAEhC,MAAMG,cAAc,GAAGC,IAAA,IAAiB;EAAA,IAAhB;IAAEC;EAAQ,CAAC,GAAAD,IAAA;EACjC,MAAM;IACJE,WAAW;IACXC,OAAO;IACPC;EACF,CAAC,GAAGH,OAAO;EAEX,MAAMI,kBAAkB,GAAGD,YAAY,GAAG;IAAEE,QAAQ,EAAEF;EAAa,CAAC,GAAG,CAAC,CAAC;EAEzE,IAAIG,GAAG;EACP,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAACN,OAAO,CAAC,GAAG,IAAIM,IAAI,CAAC,CAAC;EAC5C,MAAMC,aAAa,gBACjB,IAAA5D,WAAA,CAAA6D,GAAA,EAAChE,KAAA,CAAAiE,qBAAqB,EAAA7C,aAAA;IAEpBY,KAAK,EAAE6B,KAAK,GAAG,IAAK;IACpBK,OAAO,EAAC;IACR;IAAA;IACAC,uBAAuB,EAAEhB;EAAS,GAC9BO,kBAAkB,GALlB,eAML,CACF;EAED,IAAIG,KAAK,GAAGX,MAAM,EAAE;IAClB,MAAMkB,aAAa,gBACjB,IAAAjE,WAAA,CAAA6D,GAAA,EAAChE,KAAA,CAAAqE,aAAa,EAAAjD,aAAA;MAEZkD,GAAG,EAAC,SAAS;MACbC,KAAK,EAAC,OAAO;MACbC,IAAI,EAAC,SAAS;MACdC,YAAY,EAAC,OAAO;MACpBzC,KAAK,EAAEwB;IAAQ,GACXE,kBAAkB,GANlB,eAOL,CACF;IACDE,GAAG,gBACD,IAAAzD,WAAA,CAAA6D,GAAA,EAAChE,KAAA,CAAA0E,gBAAgB;MACfC,EAAE,EAAC,kCAAkC;MACrCC,cAAc,EAAC,2DAA2D;MAC1ErB,WAAW,EAAC,uDAAuD;MACnEsB,MAAM,EAAE;QACNT,aAAa;QACbL;MACF;IAAE,CACH,CACF;EACH,CAAC,MAAM;IACL,MAAMe,aAAa,gBACjB,IAAA3E,WAAA,CAAA6D,GAAA,EAAChE,KAAA,CAAA+E,aAAa,EAAA3D,aAAA;MAEZkD,GAAG,EAAC,SAAS;MACbC,KAAK,EAAC,OAAO;MACbC,IAAI,EAAC,SAAS;MACdxC,KAAK,EAAEwB;IAAQ,GACXE,kBAAkB,GALlB,eAML,CACF;IACDE,GAAG,gBACD,IAAAzD,WAAA,CAAA6D,GAAA,EAAChE,KAAA,CAAA0E,gBAAgB;MACfC,EAAE,EAAC,iCAAiC;MACpCC,cAAc,EAAC,2DAA2D;MAC1ErB,WAAW,EAAC,uDAAuD;MACnEsB,MAAM,EAAE;QACNC,aAAa;QACbf;MACF;IAAE,CACH,CACF;EACH;EAEA,oBACE,IAAA5D,WAAA,CAAA6E,IAAA,EAAC/E,QAAA,CAAAgF,KAAK;IAACC,OAAO,EAAC,MAAM;IAACC,IAAI,EAAEC,WAAK;IAAAC,QAAA,gBAC/B,IAAAlF,WAAA,CAAA6D,GAAA;MAAAqB,QAAA,EAASzB;IAAG,CAAS,CAAC,mBAAAzD,WAAA,CAAA6D,GAAA,UAAK,CAAC,EAC3BT,WAAW;EAAA,CACP,CAAC;AAEZ,CAAC;AAEDH,cAAc,CAACkC,SAAS,GAAG;EACzBhC,OAAO,EAAEiC,kBAAS,CAACC,KAAK,CAAC;IACvBjC,WAAW,EAAEgC,kBAAS,CAACE,MAAM;IAC7BjC,OAAO,EAAE+B,kBAAS,CAACE,MAAM;IACzBhC,YAAY,EAAE8B,kBAAS,CAACE;EAC1B,CAAC,CAAC,CAACC;AACL,CAAC;AAAC,IAAAC,QAAA,GAEavC,cAAc;AAAAwC,OAAA,CAAAtF,OAAA,GAAAqF,QAAA"}