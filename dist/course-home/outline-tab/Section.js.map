{"version":3,"file":"Section.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_i18n","_paragon","_faCheckCircle","_faMinus","_faPlus","_faCheckCircle2","_reactFontawesome","_SequenceLink","_modelStore","_messages","_messages2","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Section","_ref","courseId","defaultOpen","expand","intl","section","complete","sequenceIds","title","courseBlocks","sequences","useModel","open","setOpen","useState","useEffect","sectionTitle","jsxs","className","children","jsx","FontAwesomeIcon","icon","fasCheckCircle","fixedWidth","formatMessage","messages","completedSection","farCheckCircle","incompleteSection","Collapsible","styling","onToggle","iconWhenClosed","IconButton","alt","openSection","faPlus","onClick","size","iconWhenOpen","genericMessages","close","faMinus","map","sequenceId","index","id","sequence","first","propTypes","PropTypes","string","isRequired","bool","intlShape","shape","_default","injectIntl","exports"],"sources":["../../../src/course-home/outline-tab/Section.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Collapsible, IconButton } from '@edx/paragon';\nimport { faCheckCircle as fasCheckCircle, faMinus, faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { faCheckCircle as farCheckCircle } from '@fortawesome/free-regular-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SequenceLink from './SequenceLink';\nimport { useModel } from '../../generic/model-store';\n\nimport genericMessages from '../../generic/messages';\nimport messages from './messages';\n\nconst Section = ({\n  courseId,\n  defaultOpen,\n  expand,\n  intl,\n  section,\n}) => {\n  const {\n    complete,\n    sequenceIds,\n    title,\n  } = section;\n  const {\n    courseBlocks: {\n      sequences,\n    },\n  } = useModel('outline', courseId);\n\n  const [open, setOpen] = useState(defaultOpen);\n\n  useEffect(() => {\n    setOpen(expand);\n  }, [expand]);\n\n  useEffect(() => {\n    setOpen(defaultOpen);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const sectionTitle = (\n    <div className=\"row w-100 m-0\">\n      <div className=\"col-auto p-0\">\n        {complete ? (\n          <FontAwesomeIcon\n            icon={fasCheckCircle}\n            fixedWidth\n            className=\"float-left mt-1 text-success\"\n            aria-hidden=\"true\"\n            title={intl.formatMessage(messages.completedSection)}\n          />\n        ) : (\n          <FontAwesomeIcon\n            icon={farCheckCircle}\n            fixedWidth\n            className=\"float-left mt-1 text-gray-400\"\n            aria-hidden=\"true\"\n            title={intl.formatMessage(messages.incompleteSection)}\n          />\n        )}\n      </div>\n      <div className=\"col-10 ml-3 p-0 font-weight-bold text-dark-500\">\n        <span className=\"align-middle\">{title}</span>\n        <span className=\"sr-only\">\n          , {intl.formatMessage(complete ? messages.completedSection : messages.incompleteSection)}\n        </span>\n      </div>\n    </div>\n  );\n\n  return (\n    <li>\n      <Collapsible\n        className=\"mb-2\"\n        styling=\"card-lg\"\n        title={sectionTitle}\n        open={open}\n        onToggle={() => { setOpen(!open); }}\n        iconWhenClosed={(\n          <IconButton\n            alt={intl.formatMessage(messages.openSection)}\n            icon={faPlus}\n            onClick={() => { setOpen(true); }}\n            size=\"sm\"\n          />\n        )}\n        iconWhenOpen={(\n          <IconButton\n            alt={intl.formatMessage(genericMessages.close)}\n            icon={faMinus}\n            onClick={() => { setOpen(false); }}\n            size=\"sm\"\n          />\n        )}\n      >\n        <ol className=\"list-unstyled\">\n          {sequenceIds.map((sequenceId, index) => (\n            <SequenceLink\n              key={sequenceId}\n              id={sequenceId}\n              courseId={courseId}\n              sequence={sequences[sequenceId]}\n              first={index === 0}\n            />\n          ))}\n        </ol>\n      </Collapsible>\n    </li>\n  );\n};\n\nSection.propTypes = {\n  courseId: PropTypes.string.isRequired,\n  defaultOpen: PropTypes.bool.isRequired,\n  expand: PropTypes.bool.isRequired,\n  intl: intlShape.isRequired,\n  section: PropTypes.shape().isRequired,\n};\n\nexport default injectIntl(Section);\n"],"mappings":"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"}