{"version":3,"sources":["../../../../src/course-home/progress-tab/course-completion/LockedDonutSegment.jsx"],"names":["LockedDonutSegment","intl","lockedPercentage","showLockedPopover","setShowLockedPopover","iconDegree","formatMessage","messages","lockedContentTooltip","transformOrigin","transform","propTypes","intlShape","isRequired","PropTypes","number"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;AAEA;;;;;;;;;;AAEA,SAASA,kBAAT,OAAwD;AAAA,MAA5B;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAA4B;AACtD,QAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4C,qBAAS,KAAT,CAAlD;;AAEA,MAAI,CAACF,gBAAL,EAAuB;AACrB,WAAO,IAAP;AACD;;AAED,QAAMG,UAAU,GAAGH,gBAAgB,GAAG,CAAnB,GAAwB,MAAMA,gBAAP,GAA2B,CAAlD,GAAwD,MAAMA,gBAAP,GAA2B,CAA5B,GAAiC,CAA1G;AAEA,sBACE;AACE,IAAA,SAAS,EAAC,qBADZ;AAEE,IAAA,MAAM,EAAE,MAAME,oBAAoB,CAAC,KAAD,CAFpC;AAGE,IAAA,OAAO,EAAE,MAAMA,oBAAoB,CAAC,IAAD,CAHrC;AAIE,IAAA,QAAQ,EAAC,IAJX;AAAA,4BAME;AACE,MAAA,SAAS,EAAC,6BADZ;AAEE,MAAA,EAAE,EAAC,IAFL;AAGE,MAAA,EAAE,EAAC,IAHL;AAIE,MAAA,CAAC,EAAC,mBAJJ;AAKE,MAAA,eAAe,EAAG,GAAEF,gBAAiB,IAAG,MAAMA,gBAAiB,EALjE;AAME,MAAA,gBAAgB,EAAEA,gBAAgB,GAAG;AANvC,MANF,eAgBE,qBAAC,uBAAD;AACE,MAAA,IAAI,EAAEC,iBADR;AAEE,MAAA,SAAS,EAAC,KAFZ;AAGE,MAAA,OAAO,eACL,qBAAC,gBAAD;AAAS,uBAAY,MAArB;AAAA,+BACE,qBAAC,gBAAD,CAAS,OAAT;AAAA,oBACGF,IAAI,CAACK,aAAL,CAAmBC,kBAASC,oBAA5B;AADH;AADF,QAJJ;AAAA,6BAWE;AACE,QAAA,KAAK,EAAC,GADR;AAEE,QAAA,MAAM,EAAC,IAFT;AAGE,QAAA,OAAO,EAAC,UAHV;AAIE,QAAA,KAAK,EAAE;AACLC,UAAAA,eAAe,EAAE,QADZ;AAELC,UAAAA,SAAS,EAAG,WAAUL,UAAW;AAF5B,SAJT;AAAA,+BAUE;AACE,UAAA,CAAC,EAAC,6TADJ;AAEE,UAAA,IAAI,EAAEH,gBAAgB,GAAG,CAAnB,GAAuB,OAAvB,GAAiC,aAFzC;AAGE,UAAA,KAAK,EAAE;AAAEQ,YAAAA,SAAS,EAAG,6CAA4CL,UAAW;AAArE;AAHT;AAVF;AAXF,MAhBF;AAAA,IADF;AA+CD;;AAEDL,kBAAkB,CAACW,SAAnB,GAA+B;AAC7BV,EAAAA,IAAI,EAAEW,gBAAUC,UADa;AAE7BX,EAAAA,gBAAgB,EAAEY,mBAAUC,MAAV,CAAiBF;AAFN,CAA/B;;eAKe,sBAAWb,kBAAX,C","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { OverlayTrigger, Popover } from '@edx/paragon';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport messages from './messages';\n\nfunction LockedDonutSegment({ intl, lockedPercentage }) {\n  const [showLockedPopover, setShowLockedPopover] = useState(false);\n\n  if (!lockedPercentage) {\n    return null;\n  }\n\n  const iconDegree = lockedPercentage > 8 ? (3.6 * lockedPercentage) / 8 : ((3.6 * lockedPercentage) / 5) * 2;\n\n  return (\n    <g\n      className=\"donut-segment-group\"\n      onBlur={() => setShowLockedPopover(false)}\n      onFocus={() => setShowLockedPopover(true)}\n      tabIndex=\"-1\"\n    >\n      <circle\n        className=\"donut-segment locked-stroke\"\n        cx=\"21\"\n        cy=\"21\"\n        r=\"15.91549430918954\"\n        strokeDasharray={`${lockedPercentage} ${100 - lockedPercentage}`}\n        strokeDashoffset={lockedPercentage - 75}\n      />\n\n      {/* Tooltip */}\n      <OverlayTrigger\n        show={showLockedPopover}\n        placement=\"top\"\n        overlay={(\n          <Popover aria-hidden=\"true\">\n            <Popover.Content>\n              {intl.formatMessage(messages.lockedContentTooltip)}\n            </Popover.Content>\n          </Popover>\n        )}\n      >\n        <g\n          width=\"6\"\n          height=\"21\"\n          viewBox=\"0 0 21 6\"\n          style={{\n            transformOrigin: 'center',\n            transform: `rotate(-${iconDegree}deg)`,\n          }}\n        >\n          {/* Locked icon */}\n          <path\n            d=\"M20 8.00002H17V6.21002C17 3.60002 15.09 1.27002 12.49 1.02002C9.51 0.740018 7 3.08002 7 6.00002V8.00002H4V22H20V8.00002ZM12 17C10.9 17 10 16.1 10 15C10 13.9 10.9 13 12 13C13.1 13 14 13.9 14 15C14 16.1 13.1 17 12 17ZM9 8.00002V6.00002C9 4.34002 10.34 3.00002 12 3.00002C13.66 3.00002 15 4.34002 15 6.00002V8.00002H9Z\"\n            fill={lockedPercentage > 5 ? 'white' : 'transparent'}\n            style={{ transform: `scale(0.18) translate(5.8em, .7em) rotate(${iconDegree}deg)` }}\n          />\n        </g>\n      </OverlayTrigger>\n    </g>\n  );\n}\n\nLockedDonutSegment.propTypes = {\n  intl: intlShape.isRequired,\n  lockedPercentage: PropTypes.number.isRequired,\n};\n\nexport default injectIntl(LockedDonutSegment);\n"],"file":"LockedDonutSegment.js"}