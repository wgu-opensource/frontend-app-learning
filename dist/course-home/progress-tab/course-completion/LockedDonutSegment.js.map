{"version":3,"file":"LockedDonutSegment.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_paragon","_i18n","_messages","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","LockedDonutSegment","_ref","intl","lockedPercentage","showLockedPopover","setShowLockedPopover","useState","iconDegree","jsxs","className","onBlur","onFocus","tabIndex","children","jsx","cx","cy","r","strokeDasharray","strokeDashoffset","OverlayTrigger","show","placement","overlay","Popover","Content","formatMessage","messages","lockedContentTooltip","width","height","viewBox","style","transformOrigin","transform","d","fill","propTypes","intlShape","isRequired","PropTypes","number","_default","injectIntl","exports"],"sources":["../../../../src/course-home/progress-tab/course-completion/LockedDonutSegment.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { OverlayTrigger, Popover } from '@edx/paragon';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport messages from './messages';\n\nconst LockedDonutSegment = ({ intl, lockedPercentage }) => {\n  const [showLockedPopover, setShowLockedPopover] = useState(false);\n\n  if (!lockedPercentage) {\n    return null;\n  }\n\n  const iconDegree = lockedPercentage > 8 ? (3.6 * lockedPercentage) / 8 : ((3.6 * lockedPercentage) / 5) * 2;\n\n  return (\n    <g\n      className=\"donut-segment-group\"\n      onBlur={() => setShowLockedPopover(false)}\n      onFocus={() => setShowLockedPopover(true)}\n      tabIndex=\"-1\"\n    >\n      <circle\n        className=\"donut-segment locked-stroke\"\n        cx=\"21\"\n        cy=\"21\"\n        r=\"15.91549430918954\"\n        strokeDasharray={`${lockedPercentage} ${100 - lockedPercentage}`}\n        strokeDashoffset={lockedPercentage - 75}\n      />\n\n      {/* Tooltip */}\n      <OverlayTrigger\n        show={showLockedPopover}\n        placement=\"top\"\n        overlay={(\n          <Popover aria-hidden=\"true\">\n            <Popover.Content>\n              {intl.formatMessage(messages.lockedContentTooltip)}\n            </Popover.Content>\n          </Popover>\n        )}\n      >\n        <g\n          width=\"6\"\n          height=\"21\"\n          viewBox=\"0 0 21 6\"\n          style={{\n            transformOrigin: 'center',\n            transform: `rotate(-${iconDegree}deg)`,\n          }}\n        >\n          {/* Locked icon */}\n          <path\n            d=\"M20 8.00002H17V6.21002C17 3.60002 15.09 1.27002 12.49 1.02002C9.51 0.740018 7 3.08002 7 6.00002V8.00002H4V22H20V8.00002ZM12 17C10.9 17 10 16.1 10 15C10 13.9 10.9 13 12 13C13.1 13 14 13.9 14 15C14 16.1 13.1 17 12 17ZM9 8.00002V6.00002C9 4.34002 10.34 3.00002 12 3.00002C13.66 3.00002 15 4.34002 15 6.00002V8.00002H9Z\"\n            fill={lockedPercentage > 5 ? 'white' : 'transparent'}\n            style={{ transform: `scale(0.18) translate(5.8em, .7em) rotate(${iconDegree}deg)` }}\n          />\n        </g>\n      </OverlayTrigger>\n    </g>\n  );\n};\n\nLockedDonutSegment.propTypes = {\n  intl: intlShape.isRequired,\n  lockedPercentage: PropTypes.number.isRequired,\n};\n\nexport default injectIntl(LockedDonutSegment);\n"],"mappings":"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"}