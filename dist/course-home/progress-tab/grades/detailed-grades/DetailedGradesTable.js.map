{"version":3,"file":"DetailedGradesTable.js","names":["_react","_interopRequireDefault","require","_reactRedux","_i18n","_paragon","_modelStore","_messages","_SubsectionTitleCell","_jsxRuntime","obj","__esModule","default","DetailedGradesTable","_ref","intl","courseId","useSelector","state","courseHome","sectionScores","useModel","isLocaleRtl","isRtl","getLocale","map","chapter","subsectionScores","subsections","filter","subsection","hasGradedAssignment","showGrades","numPointsPossible","numPointsEarned","length","detailedGradesData","subsectionTitle","jsx","score","jsxs","className","learnerHasAccess","children","DataTable","data","itemCount","columns","Header","displayName","accessor","headerClassName","cellClassName","formatMessage","messages","Table","propTypes","intlShape","isRequired","_default","injectIntl","exports"],"sources":["../../../../../src/course-home/progress-tab/grades/detailed-grades/DetailedGradesTable.jsx"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport {\n  getLocale, injectIntl, intlShape, isRtl,\n} from '@edx/frontend-platform/i18n';\nimport { DataTable } from '@edx/paragon';\n\nimport { useModel } from '../../../../generic/model-store';\nimport messages from '../messages';\nimport SubsectionTitleCell from './SubsectionTitleCell';\n\nconst DetailedGradesTable = ({ intl }) => {\n  const {\n    courseId,\n  } = useSelector(state => state.courseHome);\n\n  const {\n    sectionScores,\n  } = useModel('progress', courseId);\n\n  const isLocaleRtl = isRtl(getLocale());\n  return (\n    sectionScores.map((chapter) => {\n      const subsectionScores = chapter.subsections.filter(\n        (subsection) => !!(\n          subsection.hasGradedAssignment\n          && subsection.showGrades\n          && (subsection.numPointsPossible > 0 || subsection.numPointsEarned > 0)),\n      );\n\n      if (subsectionScores.length === 0) {\n        return null;\n      }\n\n      const detailedGradesData = subsectionScores.map((subsection) => ({\n        subsectionTitle: <SubsectionTitleCell subsection={subsection} />,\n        score: <span className={subsection.learnerHasAccess ? '' : 'greyed-out'}>{subsection.numPointsEarned}{isLocaleRtl ? '\\\\' : '/'}{subsection.numPointsPossible}</span>,\n      }));\n\n      return (\n        <div className=\"my-3\" key={`${chapter.displayName}-grades-table`}>\n          <DataTable\n            data={detailedGradesData}\n            itemCount={detailedGradesData.length}\n            columns={[\n              {\n                Header: chapter.displayName,\n                accessor: 'subsectionTitle',\n                headerClassName: 'h5 mb-0',\n                cellClassName: 'mw-100',\n              },\n              {\n                Header: `${intl.formatMessage(messages.score)}`,\n                accessor: 'score',\n                headerClassName: 'justify-content-end h5 mb-0',\n                cellClassName: 'align-top text-right small',\n              },\n            ]}\n          >\n            <DataTable.Table />\n          </DataTable>\n        </div>\n      );\n    })\n  );\n};\n\nDetailedGradesTable.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(DetailedGradesTable);\n"],"mappings":"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"}