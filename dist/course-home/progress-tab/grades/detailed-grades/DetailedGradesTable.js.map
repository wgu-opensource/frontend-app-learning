{"version":3,"sources":["../../../../../src/course-home/progress-tab/grades/detailed-grades/DetailedGradesTable.jsx"],"names":["DetailedGradesTable","intl","courseId","state","courseHome","sectionScores","isLocaleRtl","map","chapter","subsectionScores","subsections","filter","subsection","hasGradedAssignment","showGrades","numPointsPossible","numPointsEarned","length","detailedGradesData","subsectionTitle","score","learnerHasAccess","Header","displayName","accessor","headerClassName","cellClassName","formatMessage","messages","propTypes","intlShape","isRequired"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AAGA;;AAEA;;AACA;;AACA;;;;;;AAEA,SAASA,mBAAT,OAAuC;AAAA,MAAV;AAAEC,IAAAA;AAAF,GAAU;AACrC,QAAM;AACJC,IAAAA;AADI,MAEF,6BAAYC,KAAK,IAAIA,KAAK,CAACC,UAA3B,CAFJ;AAIA,QAAM;AACJC,IAAAA;AADI,MAEF,0BAAS,UAAT,EAAqBH,QAArB,CAFJ;AAIA,QAAMI,WAAW,GAAG,iBAAM,sBAAN,CAApB;AACA,SACED,aAAa,CAACE,GAAd,CAAmBC,OAAD,IAAa;AAC7B,UAAMC,gBAAgB,GAAGD,OAAO,CAACE,WAAR,CAAoBC,MAApB,CACtBC,UAAD,IAAgB,CAAC,EACfA,UAAU,CAACC,mBAAX,IACGD,UAAU,CAACE,UADd,KAEIF,UAAU,CAACG,iBAAX,GAA+B,CAA/B,IAAoCH,UAAU,CAACI,eAAX,GAA6B,CAFrE,CADe,CADM,CAAzB;;AAOA,QAAIP,gBAAgB,CAACQ,MAAjB,KAA4B,CAAhC,EAAmC;AACjC,aAAO,IAAP;AACD;;AAED,UAAMC,kBAAkB,GAAGT,gBAAgB,CAACF,GAAjB,CAAsBK,UAAD,KAAiB;AAC/DO,MAAAA,eAAe,eAAE,qBAAC,4BAAD;AAAqB,QAAA,UAAU,EAAEP;AAAjC,QAD8C;AAE/DQ,MAAAA,KAAK,eAAE;AAAM,QAAA,SAAS,EAAER,UAAU,CAACS,gBAAX,GAA8B,EAA9B,GAAmC,YAApD;AAAA,mBAAmET,UAAU,CAACI,eAA9E,EAA+FV,WAAW,GAAG,IAAH,GAAU,GAApH,EAAyHM,UAAU,CAACG,iBAApI;AAAA;AAFwD,KAAjB,CAArB,CAA3B;AAKA,wBACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,6BACE,qBAAC,kBAAD;AACE,QAAA,IAAI,EAAEG,kBADR;AAEE,QAAA,SAAS,EAAEA,kBAAkB,CAACD,MAFhC;AAGE,QAAA,OAAO,EAAE,CACP;AACEK,UAAAA,MAAM,EAAEd,OAAO,CAACe,WADlB;AAEEC,UAAAA,QAAQ,EAAE,iBAFZ;AAGEC,UAAAA,eAAe,EAAE,SAHnB;AAIEC,UAAAA,aAAa,EAAE;AAJjB,SADO,EAOP;AACEJ,UAAAA,MAAM,EAAG,GAAErB,IAAI,CAAC0B,aAAL,CAAmBC,kBAASR,KAA5B,CAAmC,EADhD;AAEEI,UAAAA,QAAQ,EAAE,OAFZ;AAGEC,UAAAA,eAAe,EAAE,6BAHnB;AAIEC,UAAAA,aAAa,EAAE;AAJjB,SAPO,CAHX;AAAA,+BAkBE,qBAAC,kBAAD,CAAW,KAAX;AAlBF;AADF,OAA4B,GAAElB,OAAO,CAACe,WAAY,eAAlD,CADF;AAwBD,GAzCD,CADF;AA4CD;;AAEDvB,mBAAmB,CAAC6B,SAApB,GAAgC;AAC9B5B,EAAAA,IAAI,EAAE6B,gBAAUC;AADc,CAAhC;;eAIe,sBAAW/B,mBAAX,C","sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport {\n  getLocale, injectIntl, intlShape, isRtl,\n} from '@edx/frontend-platform/i18n';\nimport { DataTable } from '@edx/paragon';\n\nimport { useModel } from '../../../../generic/model-store';\nimport messages from '../messages';\nimport SubsectionTitleCell from './SubsectionTitleCell';\n\nfunction DetailedGradesTable({ intl }) {\n  const {\n    courseId,\n  } = useSelector(state => state.courseHome);\n\n  const {\n    sectionScores,\n  } = useModel('progress', courseId);\n\n  const isLocaleRtl = isRtl(getLocale());\n  return (\n    sectionScores.map((chapter) => {\n      const subsectionScores = chapter.subsections.filter(\n        (subsection) => !!(\n          subsection.hasGradedAssignment\n          && subsection.showGrades\n          && (subsection.numPointsPossible > 0 || subsection.numPointsEarned > 0)),\n      );\n\n      if (subsectionScores.length === 0) {\n        return null;\n      }\n\n      const detailedGradesData = subsectionScores.map((subsection) => ({\n        subsectionTitle: <SubsectionTitleCell subsection={subsection} />,\n        score: <span className={subsection.learnerHasAccess ? '' : 'greyed-out'}>{subsection.numPointsEarned}{isLocaleRtl ? '\\\\' : '/'}{subsection.numPointsPossible}</span>,\n      }));\n\n      return (\n        <div className=\"my-3\" key={`${chapter.displayName}-grades-table`}>\n          <DataTable\n            data={detailedGradesData}\n            itemCount={detailedGradesData.length}\n            columns={[\n              {\n                Header: chapter.displayName,\n                accessor: 'subsectionTitle',\n                headerClassName: 'h5 mb-0',\n                cellClassName: 'mw-100',\n              },\n              {\n                Header: `${intl.formatMessage(messages.score)}`,\n                accessor: 'score',\n                headerClassName: 'justify-content-end h5 mb-0',\n                cellClassName: 'align-top text-right small',\n              },\n            ]}\n          >\n            <DataTable.Table />\n          </DataTable>\n        </div>\n      );\n    })\n  );\n}\n\nDetailedGradesTable.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(DetailedGradesTable);\n"],"file":"DetailedGradesTable.js"}