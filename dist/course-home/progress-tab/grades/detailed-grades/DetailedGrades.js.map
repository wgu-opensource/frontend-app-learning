{"version":3,"file":"DetailedGrades.js","names":["_react","_interopRequireDefault","require","_reactRedux","_analytics","_auth","_i18n","_icons","_paragon","_modelStore","_DetailedGradesTable","_messages","_jsxRuntime","obj","__esModule","default","DetailedGrades","_ref","intl","administrator","getAuthenticatedUser","courseId","useSelector","state","courseHome","org","tabs","useModel","gradesFeatureIsFullyLocked","gradesFeatureIsPartiallyLocked","sectionScores","hasSectionScores","length","logOutlineLinkClick","sendTrackEvent","org_key","courserun_key","is_staff","overviewTab","find","tab","slug","overviewTabUrl","url","outlineLink","jsx","Hyperlink","variant","isInline","destination","onClick","tabIndex","children","formatMessage","messages","courseOutline","jsxs","className","detailedGrades","Icon","style","height","width","src","Blocked","gradeSummaryLimitedAccessExplanation","detailedGradesEmpty","FormattedMessage","id","defaultMessage","description","values","propTypes","intlShape","isRequired","_default","injectIntl","exports"],"sources":["../../../../../src/course-home/progress-tab/grades/detailed-grades/DetailedGrades.jsx"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { sendTrackEvent } from '@edx/frontend-platform/analytics';\nimport { getAuthenticatedUser } from '@edx/frontend-platform/auth';\nimport { FormattedMessage, injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Blocked } from '@edx/paragon/icons';\nimport { Icon, Hyperlink } from '@edx/paragon';\nimport { useModel } from '../../../../generic/model-store';\n\nimport DetailedGradesTable from './DetailedGradesTable';\n\nimport messages from '../messages';\n\nconst DetailedGrades = ({ intl }) => {\n  const { administrator } = getAuthenticatedUser();\n  const {\n    courseId,\n  } = useSelector(state => state.courseHome);\n  const {\n    org,\n    tabs,\n  } = useModel('courseHomeMeta', courseId);\n  const {\n    gradesFeatureIsFullyLocked,\n    gradesFeatureIsPartiallyLocked,\n    sectionScores,\n  } = useModel('progress', courseId);\n\n  const hasSectionScores = sectionScores.length > 0;\n\n  const logOutlineLinkClick = () => {\n    sendTrackEvent('edx.ui.lms.course_progress.detailed_grades.course_outline_link.clicked', {\n      org_key: org,\n      courserun_key: courseId,\n      is_staff: administrator,\n    });\n  };\n\n  const overviewTab = tabs.find(tab => tab.slug === 'outline');\n  const overviewTabUrl = overviewTab && overviewTab.url;\n\n  const outlineLink = overviewTabUrl && (\n    <Hyperlink\n      variant=\"muted\"\n      isInline\n      destination={overviewTabUrl}\n      onClick={logOutlineLinkClick}\n      tabIndex={gradesFeatureIsFullyLocked ? '-1' : '0'}\n    >\n      {intl.formatMessage(messages.courseOutline)}\n    </Hyperlink>\n  );\n\n  return (\n    <section className=\"text-dark-700\">\n      <h3 className=\"h4 mb-3\">{intl.formatMessage(messages.detailedGrades)}</h3>\n      {gradesFeatureIsPartiallyLocked && (\n        <div className=\"mb-3 small ml-0 d-inline\">\n          <Icon className=\"mr-1 mt-1 d-inline-flex\" style={{ height: '1rem', width: '1rem' }} src={Blocked} data-testid=\"blocked-icon\" />\n          {intl.formatMessage(messages.gradeSummaryLimitedAccessExplanation)}\n        </div>\n      )}\n      {hasSectionScores && (\n        <DetailedGradesTable />\n      )}\n      {!hasSectionScores && (\n        <p className=\"small\">{intl.formatMessage(messages.detailedGradesEmpty)}</p>\n      )}\n      {overviewTabUrl && (\n        <p className=\"x-small m-0\">\n          <FormattedMessage\n            id=\"progress.ungradedAlert\"\n            defaultMessage=\"For progress on ungraded aspects of the course, view your {outlineLink}.\"\n            description=\"Text that precede link that redirect to course outline page\"\n            values={{ outlineLink }}\n          />\n        </p>\n      )}\n    </section>\n  );\n};\n\nDetailedGrades.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(DetailedGrades);\n"],"mappings":"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"}