{"version":3,"file":"GradeBar.js","names":["_react","_interopRequireDefault","require","_reactRedux","_propTypes","_i18n","_modelStore","_CurrentGradeTooltip","_PassingGradeTooltip","_messages","_jsxRuntime","obj","__esModule","default","GradeBar","_ref","intl","passingGrade","courseId","useSelector","state","courseHome","courseGrade","isPassing","percent","gradesFeatureIsFullyLocked","useModel","currentGrade","Number","toFixed","lockedTooltipClassName","adjustedRtlStyle","percentOffest","isRtl","getLocale","transform","jsxs","className","children","jsx","formatMessage","messages","courseGradeBarAltText","width","height","style","x","tooltipClassName","propTypes","intlShape","isRequired","PropTypes","number","_default","injectIntl","exports"],"sources":["../../../../../src/course-home/progress-tab/grades/course-grade/GradeBar.jsx"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  getLocale, injectIntl, intlShape, isRtl,\n} from '@edx/frontend-platform/i18n';\nimport { useModel } from '../../../../generic/model-store';\nimport CurrentGradeTooltip from './CurrentGradeTooltip';\nimport PassingGradeTooltip from './PassingGradeTooltip';\n\nimport messages from '../messages';\n\nconst GradeBar = ({ intl, passingGrade }) => {\n  const {\n    courseId,\n  } = useSelector(state => state.courseHome);\n\n  const {\n    courseGrade: {\n      isPassing,\n      percent,\n    },\n    gradesFeatureIsFullyLocked,\n  } = useModel('progress', courseId);\n\n  const currentGrade = Number((percent * 100).toFixed(0));\n\n  const lockedTooltipClassName = gradesFeatureIsFullyLocked ? 'locked-overlay' : '';\n\n  const adjustedRtlStyle = (percentOffest) => (isRtl(getLocale()) ? { transform: `translateX(${100 - percentOffest}%)` } : {});\n\n  return (\n    <div className=\"col-12 col-sm-6 align-self-center p-0\">\n      <div className=\"sr-only\">{intl.formatMessage(messages.courseGradeBarAltText, { currentGrade, passingGrade })}</div>\n      <svg width=\"100%\" height=\"100px\" className=\"grade-bar\" aria-hidden=\"true\">\n        <g style={{ transform: 'translateY(2.61em)' }}>\n          <rect className=\"grade-bar__base\" width=\"100%\" />\n          <rect className=\"grade-bar--passing\" width={`${passingGrade}%`} style={adjustedRtlStyle(passingGrade)} />\n          <rect className={`grade-bar--current-${isPassing ? 'passing' : 'non-passing'}`} width={`${currentGrade}%`} style={adjustedRtlStyle(currentGrade)} />\n\n          {/* Start divider */}\n          <rect className=\"grade-bar__divider\" />\n          {/* End divider */}\n          <rect className=\"grade-bar__divider\" x=\"99.7%\" />\n        </g>\n        <PassingGradeTooltip passingGrade={passingGrade} tooltipClassName={lockedTooltipClassName} />\n        <CurrentGradeTooltip tooltipClassName={lockedTooltipClassName} />\n      </svg>\n    </div>\n  );\n};\n\nGradeBar.propTypes = {\n  intl: intlShape.isRequired,\n  passingGrade: PropTypes.number.isRequired,\n};\n\nexport default injectIntl(GradeBar);\n"],"mappings":"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"}