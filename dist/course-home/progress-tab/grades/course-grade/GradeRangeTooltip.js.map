{"version":3,"file":"GradeRangeTooltip.js","names":["_react","_interopRequireWildcard","require","_reactRedux","_propTypes","_interopRequireDefault","_i18n","_icons","_paragon","_modelStore","_messages","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","GradeRangeTooltip","_ref","intl","iconButtonClassName","passingGrade","courseId","useSelector","state","courseHome","gradesFeatureIsFullyLocked","gradingPolicy","gradeRange","useModel","showTooltip","setShowTooltip","useState","orderedGradeRange","entries","sort","a","b","jsx","OverlayTrigger","placement","trigger","show","overlay","Popover","children","jsxs","Content","className","formatMessage","messages","courseGradeRangeTooltip","map","range","index","toFixed","previousGrade","IconButton","onClick","onBlur","alt","gradeRangeTooltipAlt","src","InfoOutline","iconAs","Icon","size","disabled","defaultProps","propTypes","PropTypes","string","intlShape","isRequired","number","_default","injectIntl","exports"],"sources":["../../../../../src/course-home/progress-tab/grades/course-grade/GradeRangeTooltip.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { InfoOutline } from '@edx/paragon/icons';\nimport {\n  Icon, IconButton, OverlayTrigger, Popover,\n} from '@edx/paragon';\nimport { useModel } from '../../../../generic/model-store';\n\nimport messages from '../messages';\n\nconst GradeRangeTooltip = ({ intl, iconButtonClassName, passingGrade }) => {\n  const {\n    courseId,\n  } = useSelector(state => state.courseHome);\n\n  const {\n    gradesFeatureIsFullyLocked,\n    gradingPolicy: {\n      gradeRange,\n    },\n  } = useModel('progress', courseId);\n\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  const orderedGradeRange = Object.entries(gradeRange).sort((a, b) => (\n    gradeRange[b[0]] - gradeRange[a[0]]\n  ));\n\n  return (\n    <OverlayTrigger\n      placement=\"top\"\n      trigger=\"click\"\n      show={showTooltip}\n      overlay={(\n        <Popover>\n          <Popover.Content className=\"px-3\">\n            {intl.formatMessage(messages.courseGradeRangeTooltip)}\n            <ul className=\"list-unstyled m-0\">\n              {orderedGradeRange.map((range, index) => {\n                if (index === 0) {\n                  return (\n                    <li key={range[0]}>\n                      {range[0]}: {(range[1] * 100).toFixed(0)}%-100%\n                    </li>\n                  );\n                }\n                const previousGrade = orderedGradeRange[index - 1];\n                return (\n                  <li key={range[0]}>\n                    {range[0]}: {(range[1] * 100).toFixed(0)}%-{(previousGrade[1] * 100).toFixed(0)}%\n                  </li>\n                );\n              })}\n              <li>F: {'<'}{passingGrade}%</li>\n            </ul>\n          </Popover.Content>\n        </Popover>\n      )}\n    >\n      <IconButton\n        onClick={() => setShowTooltip(!showTooltip)}\n        onBlur={() => setShowTooltip(false)}\n        alt={intl.formatMessage(messages.gradeRangeTooltipAlt)}\n        className={`mb-0 mt-n1 ${iconButtonClassName}`}\n        src={InfoOutline}\n        iconAs={Icon}\n        size=\"inline\"\n        disabled={gradesFeatureIsFullyLocked}\n      />\n    </OverlayTrigger>\n  );\n};\n\nGradeRangeTooltip.defaultProps = {\n  iconButtonClassName: '',\n};\n\nGradeRangeTooltip.propTypes = {\n  iconButtonClassName: PropTypes.string,\n  intl: intlShape.isRequired,\n  passingGrade: PropTypes.number.isRequired,\n};\n\nexport default injectIntl(GradeRangeTooltip);\n"],"mappings":"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"}