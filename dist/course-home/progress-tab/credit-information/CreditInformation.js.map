{"version":3,"sources":["../../../../src/course-home/progress-tab/credit-information/CreditInformation.jsx"],"names":["CreditInformation","intl","courseId","state","courseHome","creditCourseRequirements","eligibilityStatus","requirementStatus","requirements","dashboardLink","creditLink","CREDIT_HELP_LINK_URL","formatMessage","messages","courseCredit","forEach","requirement","status","verificationSubmitted","CheckCircle","verificationFailed","WarningFilled","completed","upcoming","WatchFilled","push","namespace","minimumGrade","minGrade","Number","criteria","displayName","order","requirementsHeader","propTypes","intlShape","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { getConfig } from '@edx/frontend-platform';\nimport { FormattedMessage, injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { CheckCircle, WarningFilled, WatchFilled } from '@edx/paragon/icons';\nimport { Hyperlink, Icon } from '@edx/paragon';\n\nimport { useModel } from '../../../generic/model-store';\nimport { DashboardLink } from '../../../shared/links';\n\nimport messages from './messages';\n\nfunction CreditInformation({ intl }) {\n  const {\n    courseId,\n  } = useSelector(state => state.courseHome);\n\n  const {\n    creditCourseRequirements,\n  } = useModel('progress', courseId);\n\n  if (!creditCourseRequirements) { return null; }\n\n  let eligibilityStatus;\n  let requirementStatus;\n  const requirements = [];\n  const dashboardLink = <DashboardLink />;\n  const creditLink = (\n    <Hyperlink\n      variant=\"muted\"\n      isInline\n      destination={getConfig().CREDIT_HELP_LINK_URL}\n    >{intl.formatMessage(messages.courseCredit)}\n    </Hyperlink>\n  );\n\n  switch (creditCourseRequirements.eligibilityStatus) {\n    case 'not_eligible':\n      eligibilityStatus = (\n        <FormattedMessage\n          id=\"progress.creditInformation.creditNotEligible\"\n          defaultMessage=\"You are no longer eligible for credit in this course. Learn more about {creditLink}.\"\n          description=\"Message to learner who are not eligible for course credit, it can because the a requirement deadline have passed\"\n          values={{ creditLink }}\n        />\n      );\n      break;\n    case 'eligible':\n      eligibilityStatus = (\n        <FormattedMessage\n          id=\"progress.creditInformation.creditEligible\"\n          defaultMessage=\"\n          You have met the requirements for credit in this course. Go to your\n          {dashboardLink} to purchase course credit. Or learn more about {creditLink}.\"\n          description=\"After the credit requirements are met, leaners can then do the last step which purchasing the credit. Note that is only doable for leaners after they met all the requirements\"\n          values={{ dashboardLink, creditLink }}\n        />\n      );\n      break;\n    case 'partial_eligible':\n      eligibilityStatus = (\n        <FormattedMessage\n          id=\"progress.creditInformation.creditPartialEligible\"\n          defaultMessage=\"You have not yet met the requirements for credit. Learn more about {creditLink}.\"\n          description=\"This means that one or more requirements is not satisfied yet\"\n          values={{ creditLink }}\n        />\n      );\n      break;\n    default:\n      break;\n  }\n  creditCourseRequirements.requirements.forEach(requirement => {\n    switch (requirement.status) {\n      case 'submitted':\n        requirementStatus = (<>{intl.formatMessage(messages.verificationSubmitted)} <Icon src={CheckCircle} className=\"text-success-500 d-inline-flex align-bottom\" /></>);\n        break;\n      case 'failed':\n      case 'declined':\n        requirementStatus = (<>{intl.formatMessage(messages.verificationFailed)} <Icon src={WarningFilled} className=\"d-inline-flex align-bottom\" /></>);\n        break;\n      case 'satisfied':\n        requirementStatus = (<>{intl.formatMessage(messages.completed)} <Icon src={CheckCircle} className=\"text-success-500 d-inline-flex align-bottom\" /></>);\n        break;\n      default:\n        requirementStatus = (<>{intl.formatMessage(messages.upcoming)} <Icon src={WatchFilled} className=\"text-gray-500 d-inline-flex align-bottom\" /></>);\n    }\n    requirements.push((\n      <div className=\"row w-100 m-0 small\" key={`requirement-${requirement.order}`}>\n        <p className=\"font-weight-bold\">\n          {requirement.namespace === 'grade'\n            ? `${intl.formatMessage(messages.minimumGrade, { minGrade: Number(requirement.criteria.minGrade) * 100 })}:`\n            : `${requirement.displayName}:`}\n        </p>\n        <div className=\"ml-1\">\n          {requirementStatus}\n        </div>\n      </div>\n    ));\n  });\n\n  return (\n    <>\n      <h3 className=\"h4 col-12 p-0\">{intl.formatMessage(messages.requirementsHeader)}</h3>\n      <p className=\"small\">{eligibilityStatus}</p>\n      {requirements}\n    </>\n  );\n}\n\nCreditInformation.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(CreditInformation);\n"],"file":"CreditInformation.js"}