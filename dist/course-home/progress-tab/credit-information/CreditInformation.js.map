{"version":3,"file":"CreditInformation.js","names":["_react","_interopRequireDefault","require","_reactRedux","_frontendPlatform","_i18n","_icons","_paragon","_modelStore","_links","_messages","_jsxRuntime","obj","__esModule","default","CreditInformation","_ref","intl","courseId","useSelector","state","courseHome","creditCourseRequirements","useModel","eligibilityStatus","requirementStatus","requirements","dashboardLink","jsx","DashboardLink","creditLink","Hyperlink","variant","isInline","destination","getConfig","CREDIT_HELP_LINK_URL","children","formatMessage","messages","courseCredit","FormattedMessage","id","defaultMessage","description","values","forEach","requirement","status","jsxs","Fragment","verificationSubmitted","Icon","src","CheckCircle","className","verificationFailed","WarningFilled","completed","upcoming","WatchFilled","push","namespace","minimumGrade","minGrade","Number","criteria","displayName","order","requirementsHeader","propTypes","intlShape","isRequired","_default","injectIntl","exports"],"sources":["../../../../src/course-home/progress-tab/credit-information/CreditInformation.jsx"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { getConfig } from '@edx/frontend-platform';\nimport { FormattedMessage, injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { CheckCircle, WarningFilled, WatchFilled } from '@edx/paragon/icons';\nimport { Hyperlink, Icon } from '@edx/paragon';\n\nimport { useModel } from '../../../generic/model-store';\nimport { DashboardLink } from '../../../shared/links';\n\nimport messages from './messages';\n\nconst CreditInformation = ({ intl }) => {\n  const {\n    courseId,\n  } = useSelector(state => state.courseHome);\n\n  const {\n    creditCourseRequirements,\n  } = useModel('progress', courseId);\n\n  if (!creditCourseRequirements) { return null; }\n\n  let eligibilityStatus;\n  let requirementStatus;\n  const requirements = [];\n  const dashboardLink = <DashboardLink />;\n  const creditLink = (\n    <Hyperlink\n      variant=\"muted\"\n      isInline\n      destination={getConfig().CREDIT_HELP_LINK_URL}\n    >{intl.formatMessage(messages.courseCredit)}\n    </Hyperlink>\n  );\n\n  switch (creditCourseRequirements.eligibilityStatus) {\n    case 'not_eligible':\n      eligibilityStatus = (\n        <FormattedMessage\n          id=\"progress.creditInformation.creditNotEligible\"\n          defaultMessage=\"You are no longer eligible for credit in this course. Learn more about {creditLink}.\"\n          description=\"Message to learner who are not eligible for course credit, it can because the a requirement deadline have passed\"\n          values={{ creditLink }}\n        />\n      );\n      break;\n    case 'eligible':\n      eligibilityStatus = (\n        <FormattedMessage\n          id=\"progress.creditInformation.creditEligible\"\n          defaultMessage=\"\n          You have met the requirements for credit in this course. Go to your\n          {dashboardLink} to purchase course credit. Or learn more about {creditLink}.\"\n          description=\"After the credit requirements are met, leaners can then do the last step which purchasing the credit. Note that is only doable for leaners after they met all the requirements\"\n          values={{ dashboardLink, creditLink }}\n        />\n      );\n      break;\n    case 'partial_eligible':\n      eligibilityStatus = (\n        <FormattedMessage\n          id=\"progress.creditInformation.creditPartialEligible\"\n          defaultMessage=\"You have not yet met the requirements for credit. Learn more about {creditLink}.\"\n          description=\"This means that one or more requirements is not satisfied yet\"\n          values={{ creditLink }}\n        />\n      );\n      break;\n    default:\n      break;\n  }\n  creditCourseRequirements.requirements.forEach(requirement => {\n    switch (requirement.status) {\n      case 'submitted':\n        requirementStatus = (<>{intl.formatMessage(messages.verificationSubmitted)} <Icon src={CheckCircle} className=\"text-success-500 d-inline-flex align-bottom\" /></>);\n        break;\n      case 'failed':\n      case 'declined':\n        requirementStatus = (<>{intl.formatMessage(messages.verificationFailed)} <Icon src={WarningFilled} className=\"d-inline-flex align-bottom\" /></>);\n        break;\n      case 'satisfied':\n        requirementStatus = (<>{intl.formatMessage(messages.completed)} <Icon src={CheckCircle} className=\"text-success-500 d-inline-flex align-bottom\" /></>);\n        break;\n      default:\n        requirementStatus = (<>{intl.formatMessage(messages.upcoming)} <Icon src={WatchFilled} className=\"text-gray-500 d-inline-flex align-bottom\" /></>);\n    }\n    requirements.push((\n      <div className=\"row w-100 m-0 small\" key={`requirement-${requirement.order}`}>\n        <p className=\"font-weight-bold\">\n          {requirement.namespace === 'grade'\n            ? `${intl.formatMessage(messages.minimumGrade, { minGrade: Number(requirement.criteria.minGrade) * 100 })}:`\n            : `${requirement.displayName}:`}\n        </p>\n        <div className=\"ml-1\">\n          {requirementStatus}\n        </div>\n      </div>\n    ));\n  });\n\n  return (\n    <>\n      <h3 className=\"h4 col-12 p-0\">{intl.formatMessage(messages.requirementsHeader)}</h3>\n      <p className=\"small\">{eligibilityStatus}</p>\n      {requirements}\n    </>\n  );\n};\n\nCreditInformation.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(CreditInformation);\n"],"mappings":"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"}