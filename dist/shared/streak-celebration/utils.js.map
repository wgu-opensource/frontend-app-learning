{"version":3,"file":"utils.js","names":["_analytics","require","_auth","_modelStore","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","recordStreakCelebration","org","courseId","administrator","getAuthenticatedUser","sendTrackEvent","org_key","courserun_key","is_staff","recordModalClosing","celebrations","dispatch","updateModel","modelType","model","id","streakLengthToCelebrate"],"sources":["../../../src/shared/streak-celebration/utils.jsx"],"sourcesContent":["import { sendTrackEvent } from '@edx/frontend-platform/analytics';\nimport { getAuthenticatedUser } from '@edx/frontend-platform/auth';\n\nimport { updateModel } from '../../generic/model-store';\n\nfunction recordStreakCelebration(org, courseId) {\n  // Tell our analytics\n  const { administrator } = getAuthenticatedUser();\n  sendTrackEvent('edx.ui.lms.celebration.streak.opened', {\n    org_key: org,\n    courserun_key: courseId,\n    is_staff: administrator,\n  });\n}\n\nfunction recordModalClosing(celebrations, org, courseId, dispatch) {\n  // Ensure we only celebrate each streak once\n  dispatch(updateModel({\n    modelType: 'courseHomeMeta',\n    model: {\n      id: courseId,\n      celebrations: { ...celebrations, streakLengthToCelebrate: null },\n    },\n  }));\n}\n\nexport { recordStreakCelebration, recordModalClosing };\n"],"mappings":"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"}