{"version":3,"sources":["../../../src/shared/streak-celebration/utils.jsx"],"names":["recordStreakCelebration","org","courseId","administrator","org_key","courserun_key","is_staff","recordModalClosing","celebrations","dispatch","modelType","model","id","streakLengthToCelebrate"],"mappings":";;;;;;;;AAAA;;AACA;;AAEA;;;;;;;;AAEA,SAASA,uBAAT,CAAiCC,GAAjC,EAAsCC,QAAtC,EAAgD;AAC9C;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAoB,iCAA1B;AACA,iCAAe,sCAAf,EAAuD;AACrDC,IAAAA,OAAO,EAAEH,GAD4C;AAErDI,IAAAA,aAAa,EAAEH,QAFsC;AAGrDI,IAAAA,QAAQ,EAAEH;AAH2C,GAAvD;AAKD;;AAED,SAASI,kBAAT,CAA4BC,YAA5B,EAA0CP,GAA1C,EAA+CC,QAA/C,EAAyDO,QAAzD,EAAmE;AACjE;AACAA,EAAAA,QAAQ,CAAC,6BAAY;AACnBC,IAAAA,SAAS,EAAE,gBADQ;AAEnBC,IAAAA,KAAK,EAAE;AACLC,MAAAA,EAAE,EAAEV,QADC;AAELM,MAAAA,YAAY,kCAAOA,YAAP;AAAqBK,QAAAA,uBAAuB,EAAE;AAA9C;AAFP;AAFY,GAAZ,CAAD,CAAR;AAOD","sourcesContent":["import { sendTrackEvent } from '@edx/frontend-platform/analytics';\nimport { getAuthenticatedUser } from '@edx/frontend-platform/auth';\n\nimport { updateModel } from '../../generic/model-store';\n\nfunction recordStreakCelebration(org, courseId) {\n  // Tell our analytics\n  const { administrator } = getAuthenticatedUser();\n  sendTrackEvent('edx.ui.lms.celebration.streak.opened', {\n    org_key: org,\n    courserun_key: courseId,\n    is_staff: administrator,\n  });\n}\n\nfunction recordModalClosing(celebrations, org, courseId, dispatch) {\n  // Ensure we only celebrate each streak once\n  dispatch(updateModel({\n    modelType: 'courseHomeMeta',\n    model: {\n      id: courseId,\n      celebrations: { ...celebrations, streakLengthToCelebrate: null },\n    },\n  }));\n}\n\nexport { recordStreakCelebration, recordModalClosing };\n"],"file":"utils.js"}