{"version":3,"file":"RedirectPage.js","names":["_propTypes","_interopRequireDefault","require","_reactRouterDom","_frontendPlatform","_queryString","_constants","obj","__esModule","default","RedirectPage","_ref","pattern","mode","courseId","useParams","location","useLocation","consentPath","queryString","parse","search","BASE_URL","getConfig","LMS_BASE_URL","REDIRECT_MODES","DASHBOARD_REDIRECT","global","assign","CONSENT_REDIRECT","HOME_REDIRECT","generatePath","propTypes","PropTypes","string","isRequired","defaultProps","_default","exports"],"sources":["../../src/courseware/RedirectPage.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport {\n  generatePath, useParams, useLocation,\n} from 'react-router-dom';\nimport { getConfig } from '@edx/frontend-platform';\n\nimport queryString from 'query-string';\nimport { REDIRECT_MODES } from '../constants';\n\nconst RedirectPage = ({\n  pattern, mode,\n}) => {\n  const { courseId } = useParams();\n  const location = useLocation();\n  const { consentPath } = queryString.parse(location?.search);\n\n  const BASE_URL = getConfig().LMS_BASE_URL;\n\n  switch (mode) {\n    case REDIRECT_MODES.DASHBOARD_REDIRECT:\n      global.location.assign(`${BASE_URL}${pattern}${location?.search}`);\n      break;\n    case REDIRECT_MODES.CONSENT_REDIRECT:\n      global.location.assign(`${BASE_URL}${consentPath}`);\n      break;\n    case REDIRECT_MODES.HOME_REDIRECT:\n      global.location.assign(generatePath(pattern, { courseId }));\n      break;\n    default:\n      global.location.assign(`${BASE_URL}${generatePath(pattern, { courseId })}`);\n  }\n\n  return null;\n};\n\nRedirectPage.propTypes = {\n  pattern: PropTypes.string,\n  mode: PropTypes.string.isRequired,\n};\n\nRedirectPage.defaultProps = {\n  pattern: null,\n};\n\nexport default RedirectPage;\n"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AAGA,IAAAE,iBAAA,GAAAF,OAAA;AAEA,IAAAG,YAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,UAAA,GAAAJ,OAAA;AAA8C,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9C,MAAMG,YAAY,GAAGC,IAAA,IAEf;EAAA,IAFgB;IACpBC,OAAO;IAAEC;EACX,CAAC,GAAAF,IAAA;EACC,MAAM;IAAEG;EAAS,CAAC,GAAG,IAAAC,yBAAS,EAAC,CAAC;EAChC,MAAMC,QAAQ,GAAG,IAAAC,2BAAW,EAAC,CAAC;EAC9B,MAAM;IAAEC;EAAY,CAAC,GAAGC,oBAAW,CAACC,KAAK,CAACJ,QAAQ,EAAEK,MAAM,CAAC;EAE3D,MAAMC,QAAQ,GAAG,IAAAC,2BAAS,EAAC,CAAC,CAACC,YAAY;EAEzC,QAAQX,IAAI;IACV,KAAKY,yBAAc,CAACC,kBAAkB;MACpCC,MAAM,CAACX,QAAQ,CAACY,MAAM,CAAE,GAAEN,QAAS,GAAEV,OAAQ,GAAEI,QAAQ,EAAEK,MAAO,EAAC,CAAC;MAClE;IACF,KAAKI,yBAAc,CAACI,gBAAgB;MAClCF,MAAM,CAACX,QAAQ,CAACY,MAAM,CAAE,GAAEN,QAAS,GAAEJ,WAAY,EAAC,CAAC;MACnD;IACF,KAAKO,yBAAc,CAACK,aAAa;MAC/BH,MAAM,CAACX,QAAQ,CAACY,MAAM,CAAC,IAAAG,4BAAY,EAACnB,OAAO,EAAE;QAAEE;MAAS,CAAC,CAAC,CAAC;MAC3D;IACF;MACEa,MAAM,CAACX,QAAQ,CAACY,MAAM,CAAE,GAAEN,QAAS,GAAE,IAAAS,4BAAY,EAACnB,OAAO,EAAE;QAAEE;MAAS,CAAC,CAAE,EAAC,CAAC;EAC/E;EAEA,OAAO,IAAI;AACb,CAAC;AAEDJ,YAAY,CAACsB,SAAS,GAAG;EACvBpB,OAAO,EAAEqB,kBAAS,CAACC,MAAM;EACzBrB,IAAI,EAAEoB,kBAAS,CAACC,MAAM,CAACC;AACzB,CAAC;AAEDzB,YAAY,CAAC0B,YAAY,GAAG;EAC1BxB,OAAO,EAAE;AACX,CAAC;AAAC,IAAAyB,QAAA,GAEa3B,YAAY;AAAA4B,OAAA,CAAA7B,OAAA,GAAA4B,QAAA"}