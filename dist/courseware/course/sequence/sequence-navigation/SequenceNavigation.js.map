{"version":3,"file":"SequenceNavigation.js","names":["_react","_interopRequireDefault","require","_propTypes","_paragon","_icons","_classnames","_i18n","_reactRedux","_courseExit","_UnitButton","_SequenceNavigationTabs","_hooks","_modelStore","_slice","_messages","_jsxRuntime","obj","__esModule","default","SequenceNavigation","_ref","intl","unitId","sequenceId","className","onNavigate","nextSequenceHandler","previousSequenceHandler","goToCourseExitPage","sequence","useModel","isFirstUnit","isLastUnit","useSequenceNavigationMetadata","courseId","sequenceStatus","useSelector","state","courseware","isLocked","LOADED","gatedContent","undefined","gated","shouldDisplayNotificationTriggerInSequence","useWindowSize","width","breakpoints","small","minWidth","renderUnitButtons","jsx","title","contentType","isActive","onClick","unitIds","length","style","flexBasis","borderBottom","showCompletion","renderNextButton","exitActive","exitText","GetCourseExitNavigation","buttonOnClick","buttonText","formatMessage","messages","nextButton","disabled","nextArrow","isRtl","getLocale","ChevronLeft","ChevronRight","Button","variant","iconAfter","children","prevArrow","jsxs","id","classNames","iconBefore","previousButton","propTypes","intlShape","isRequired","PropTypes","string","func","defaultProps","_default","injectIntl","exports"],"sources":["../../../../../src/courseware/course/sequence/sequence-navigation/SequenceNavigation.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { breakpoints, Button, useWindowSize } from '@edx/paragon';\nimport { ChevronLeft, ChevronRight } from '@edx/paragon/icons';\nimport classNames from 'classnames';\nimport {\n  injectIntl,\n  intlShape,\n  isRtl,\n  getLocale,\n} from '@edx/frontend-platform/i18n';\n\nimport { useSelector } from 'react-redux';\nimport { GetCourseExitNavigation } from '../../course-exit';\nimport UnitButton from './UnitButton';\nimport SequenceNavigationTabs from './SequenceNavigationTabs';\nimport { useSequenceNavigationMetadata } from './hooks';\nimport { useModel } from '../../../../generic/model-store';\nimport { LOADED } from '../../../data/slice';\n\nimport messages from './messages';\n\nconst SequenceNavigation = ({\n  intl,\n  unitId,\n  sequenceId,\n  className,\n  onNavigate,\n  nextSequenceHandler,\n  previousSequenceHandler,\n  goToCourseExitPage,\n}) => {\n  const sequence = useModel('sequences', sequenceId);\n  const { isFirstUnit, isLastUnit } = useSequenceNavigationMetadata(sequenceId, unitId);\n  const {\n    courseId,\n    sequenceStatus,\n  } = useSelector(state => state.courseware);\n  const isLocked = sequenceStatus === LOADED ? (\n    sequence.gatedContent !== undefined && sequence.gatedContent.gated\n  ) : undefined;\n\n  const shouldDisplayNotificationTriggerInSequence = useWindowSize().width < breakpoints.small.minWidth;\n\n  const renderUnitButtons = () => {\n    if (isLocked) {\n      return (\n        <UnitButton unitId={unitId} title=\"\" contentType=\"lock\" isActive onClick={() => {}} />\n      );\n    }\n    if (sequence.unitIds.length === 0 || unitId === null) {\n      return (\n        <div style={{ flexBasis: '100%', minWidth: 0, borderBottom: 'solid 1px #EAEAEA' }} />\n      );\n    }\n    return (\n      <SequenceNavigationTabs\n        unitIds={sequence.unitIds}\n        unitId={unitId}\n        showCompletion={sequence.showCompletion}\n        onNavigate={onNavigate}\n      />\n    );\n  };\n\n  const renderNextButton = () => {\n    const { exitActive, exitText } = GetCourseExitNavigation(courseId, intl);\n    const buttonOnClick = isLastUnit ? goToCourseExitPage : nextSequenceHandler;\n    const buttonText = (isLastUnit && exitText) ? exitText : intl.formatMessage(messages.nextButton);\n    const disabled = isLastUnit && !exitActive;\n    const nextArrow = isRtl(getLocale()) ? ChevronLeft : ChevronRight;\n\n    return (\n      <Button variant=\"link\" className=\"next-btn\" onClick={buttonOnClick} disabled={disabled} iconAfter={nextArrow}>\n        {shouldDisplayNotificationTriggerInSequence ? null : buttonText}\n      </Button>\n    );\n  };\n\n  const prevArrow = isRtl(getLocale()) ? ChevronRight : ChevronLeft;\n\n  return sequenceStatus === LOADED && (\n    <nav id=\"courseware-sequenceNavigation\" className={classNames('sequence-navigation', className, { 'mr-2': shouldDisplayNotificationTriggerInSequence })}>\n      <Button variant=\"link\" className=\"previous-btn\" onClick={previousSequenceHandler} disabled={isFirstUnit} iconBefore={prevArrow}>\n        {shouldDisplayNotificationTriggerInSequence ? null : intl.formatMessage(messages.previousButton)}\n      </Button>\n      {renderUnitButtons()}\n      {renderNextButton()}\n\n    </nav>\n  );\n};\n\nSequenceNavigation.propTypes = {\n  intl: intlShape.isRequired,\n  sequenceId: PropTypes.string.isRequired,\n  unitId: PropTypes.string,\n  className: PropTypes.string,\n  onNavigate: PropTypes.func.isRequired,\n  nextSequenceHandler: PropTypes.func.isRequired,\n  previousSequenceHandler: PropTypes.func.isRequired,\n  goToCourseExitPage: PropTypes.func.isRequired,\n};\n\nSequenceNavigation.defaultProps = {\n  className: null,\n  unitId: null,\n};\n\nexport default injectIntl(SequenceNavigation);\n"],"mappings":"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"}