{"version":3,"file":"urls.test.js","names":["_frontendPlatform","require","_queryString","_urls","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","jest","mock","getConfig","fn","stringify","_len","args","Array","_key","config","LMS_BASE_URL","mockReturnValue","props","id","view","format","examAccess","blockAccess","accessToken","describe","test","params","iframeParams","exam_access","expect","getIFrameUrl","toEqual"],"sources":["../../../../../src/courseware/course/sequence/Unit/urls.test.js"],"sourcesContent":["import { getConfig } from '@edx/frontend-platform';\nimport { stringify } from 'query-string';\nimport { getIFrameUrl, iframeParams } from './urls';\n\njest.mock('@edx/frontend-platform', () => ({\n  getConfig: jest.fn(),\n}));\njest.mock('query-string', () => ({\n  stringify: jest.fn((...args) => ({ stringify: args })),\n}));\n\nconst config = { LMS_BASE_URL: 'test-lms-url' };\ngetConfig.mockReturnValue(config);\n\nconst props = {\n  id: 'test-id',\n  view: 'test-view',\n  format: 'test-format',\n  examAccess: { blockAccess: false, accessToken: 'test-access-token' },\n};\n\ndescribe('urls module', () => {\n  describe('getIFrameUrl', () => {\n    test('format provided, exam access and token available', () => {\n      const params = stringify({\n        ...iframeParams,\n        view: props.view,\n        format: props.format,\n        exam_access: props.examAccess.accessToken,\n      });\n      expect(getIFrameUrl(props)).toEqual(`${config.LMS_BASE_URL}/xblock/${props.id}?${params}`);\n    });\n    test('no format provided, exam access blocked', () => {\n      const params = stringify({ ...iframeParams, view: props.view });\n      expect(getIFrameUrl({\n        id: props.id,\n        view: props.view,\n        examAccess: { blockAccess: true },\n      })).toEqual(`${config.LMS_BASE_URL}/xblock/${props.id}?${params}`);\n    });\n  });\n});\n"],"mappings":"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"}