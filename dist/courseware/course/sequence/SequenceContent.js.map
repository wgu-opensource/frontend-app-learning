{"version":3,"file":"SequenceContent.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_i18n","_PageLoading","_modelStore","_messages","_Unit","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ContentLock","React","lazy","Promise","resolve","then","SequenceContent","_ref","gated","intl","courseId","sequenceId","unitId","unitLoadedHandler","sequence","useModel","useEffect","global","scrollTo","jsx","Suspense","fallback","srMessage","formatMessage","messages","loadingLockedContent","children","sequenceTitle","title","prereqSectionName","gatedContent","prereqId","unit","noContent","format","id","onLoaded","propTypes","PropTypes","bool","isRequired","string","func","intlShape","defaultProps","_default","injectIntl","exports"],"sources":["../../../../src/courseware/course/sequence/SequenceContent.jsx"],"sourcesContent":["import React, { Suspense, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport PageLoading from '../../../generic/PageLoading';\nimport { useModel } from '../../../generic/model-store';\n\nimport messages from './messages';\nimport Unit from './Unit';\n\nconst ContentLock = React.lazy(() => import('./content-lock'));\n\nconst SequenceContent = ({\n  gated,\n  intl,\n  courseId,\n  sequenceId,\n  unitId,\n  unitLoadedHandler,\n}) => {\n  const sequence = useModel('sequences', sequenceId);\n\n  // Go back to the top of the page whenever the unit or sequence changes.\n  useEffect(() => {\n    global.scrollTo(0, 0);\n  }, [sequenceId, unitId]);\n\n  if (gated) {\n    return (\n      <Suspense\n        fallback={(\n          <PageLoading\n            srMessage={intl.formatMessage(messages.loadingLockedContent)}\n          />\n        )}\n      >\n        <ContentLock\n          courseId={courseId}\n          sequenceTitle={sequence.title}\n          prereqSectionName={sequence.gatedContent.prereqSectionName}\n          prereqId={sequence.gatedContent.prereqId}\n        />\n      </Suspense>\n    );\n  }\n\n  const unit = useModel('units', unitId);\n  if (!unitId || !unit) {\n    return (\n      <div>\n        {intl.formatMessage(messages.noContent)}\n      </div>\n    );\n  }\n\n  return (\n    <Unit\n      courseId={courseId}\n      format={sequence.format}\n      key={unitId}\n      id={unitId}\n      onLoaded={unitLoadedHandler}\n    />\n  );\n};\n\nSequenceContent.propTypes = {\n  gated: PropTypes.bool.isRequired,\n  courseId: PropTypes.string.isRequired,\n  sequenceId: PropTypes.string.isRequired,\n  unitId: PropTypes.string,\n  unitLoadedHandler: PropTypes.func.isRequired,\n  intl: intlShape.isRequired,\n};\n\nSequenceContent.defaultProps = {\n  unitId: null,\n};\n\nexport default injectIntl(SequenceContent);\n"],"mappings":"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"}