{"version":3,"file":"CourseNonPassing.js","names":["_react","_interopRequireWildcard","require","_auth","_i18n","_reactHelmet","_reactRedux","_paragon","_frontendPlatform","_modelStore","_CatalogSuggestion","_interopRequireDefault","_DashboardFootnote","_messages","_utils","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","CourseNonPassing","_ref","intl","courseId","useSelector","state","courseware","org","tabs","title","useModel","administrator","getAuthenticatedUser","progressTab","find","tab","slug","progressLink","url","useEffect","logVisit","jsxs","Fragment","children","jsx","Helmet","formatMessage","messages","endOfCourseTitle","getConfig","SITE_NAME","className","endOfCourseHeader","Alert","variant","endOfCourseDescription","Button","href","onClick","logClick","viewGradesButton","propTypes","intlShape","isRequired","_default","injectIntl","exports"],"sources":["../../../../src/courseware/course/course-exit/CourseNonPassing.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\n\nimport { getAuthenticatedUser } from '@edx/frontend-platform/auth';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Helmet } from 'react-helmet';\nimport { useSelector } from 'react-redux';\nimport { Alert, Button } from '@edx/paragon';\nimport { getConfig } from '@edx/frontend-platform';\n\nimport { useModel } from '../../../generic/model-store';\n\nimport CatalogSuggestion from './CatalogSuggestion';\nimport DashboardFootnote from './DashboardFootnote';\nimport messages from './messages';\nimport { logClick, logVisit } from './utils';\n\nconst CourseNonPassing = ({ intl }) => {\n  const { courseId } = useSelector(state => state.courseware);\n  const {\n    org,\n    tabs,\n    title,\n  } = useModel('courseHomeMeta', courseId);\n  const { administrator } = getAuthenticatedUser();\n\n  // Get progress tab link for 'view grades' button\n  const progressTab = tabs.find(tab => tab.slug === 'progress');\n  const progressLink = progressTab && progressTab.url;\n\n  useEffect(() => logVisit(org, courseId, administrator, 'nonpassing'), [org, courseId, administrator]);\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${intl.formatMessage(messages.endOfCourseTitle)} | ${title} | ${getConfig().SITE_NAME}`}</title>\n      </Helmet>\n      <div className=\"row w-100 mx-0 mb-4 px-5 py-4 border border-light justify-content-center\">\n        <div className=\"col-12 p-0 h2 text-center\">\n          { intl.formatMessage(messages.endOfCourseHeader) }\n        </div>\n        <Alert variant=\"primary\" className=\"col col-lg-10 mt-4\">\n          <div className=\"row w-100 m-0 align-items-start\">\n            <div className=\"flex-grow-1 col-sm p-0\">{ intl.formatMessage(messages.endOfCourseDescription) }</div>\n            {progressLink && (\n              <Button\n                variant=\"primary\"\n                className=\"flex-shrink-0 mt-3 mt-sm-0 mb-1 mb-sm-0 ml-sm-5\"\n                href={progressLink}\n                onClick={() => logClick(org, courseId, administrator, 'view_grades')}\n              >\n                {intl.formatMessage(messages.viewGradesButton)}\n              </Button>\n            )}\n          </div>\n        </Alert>\n        <DashboardFootnote variant=\"nonpassing\" />\n        <CatalogSuggestion variant=\"nonpassing\" />\n      </div>\n    </>\n  );\n};\n\nCourseNonPassing.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(CourseNonPassing);\n"],"mappings":"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"}