{"version":3,"file":"thunks.js","names":["_logging","require","_slice","_api","_modelStore","fetchCourseRecommendations","courseKey","courseId","dispatch","fetchCourseRecommendationsRequest","recommendations","getCourseRecommendations","updateModel","modelType","model","id","fetchCourseRecommendationsSuccess","error","logError","fetchCourseRecommendationsFailure","unsubscribeFromGoalReminders","daysPerWeek","subscribedToReminders","postUnsubscribeFromGoalReminders"],"sources":["../../../../../src/courseware/course/course-exit/data/thunks.js"],"sourcesContent":["import { logError } from '@edx/frontend-platform/logging';\n\nimport {\n  fetchCourseRecommendationsFailure,\n  fetchCourseRecommendationsRequest,\n  fetchCourseRecommendationsSuccess,\n} from './slice';\nimport {\n  getCourseRecommendations,\n  postUnsubscribeFromGoalReminders,\n} from './api';\nimport { updateModel } from '../../../../generic/model-store';\n\nexport default function fetchCourseRecommendations(courseKey, courseId) {\n  return async (dispatch) => {\n    dispatch(fetchCourseRecommendationsRequest({ courseId }));\n    try {\n      const recommendations = await getCourseRecommendations(courseKey);\n      dispatch(updateModel({\n        modelType: 'coursewareMeta',\n        model: {\n          id: courseId,\n          recommendations,\n        },\n      }));\n      dispatch(fetchCourseRecommendationsSuccess({ courseId }));\n    } catch (error) {\n      logError(error);\n      dispatch(fetchCourseRecommendationsFailure({ courseId }));\n    }\n  };\n}\n\nexport async function unsubscribeFromGoalReminders(courseId, daysPerWeek, subscribedToReminders) {\n  return postUnsubscribeFromGoalReminders(courseId, daysPerWeek, subscribedToReminders);\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AAEA,IAAAC,MAAA,GAAAD,OAAA;AAKA,IAAAE,IAAA,GAAAF,OAAA;AAIA,IAAAG,WAAA,GAAAH,OAAA;AAEe,SAASI,0BAA0BA,CAACC,SAAS,EAAEC,QAAQ,EAAE;EACtE,OAAO,MAAOC,QAAQ,IAAK;IACzBA,QAAQ,CAAC,IAAAC,wCAAiC,EAAC;MAAEF;IAAS,CAAC,CAAC,CAAC;IACzD,IAAI;MACF,MAAMG,eAAe,GAAG,MAAM,IAAAC,6BAAwB,EAACL,SAAS,CAAC;MACjEE,QAAQ,CAAC,IAAAI,uBAAW,EAAC;QACnBC,SAAS,EAAE,gBAAgB;QAC3BC,KAAK,EAAE;UACLC,EAAE,EAAER,QAAQ;UACZG;QACF;MACF,CAAC,CAAC,CAAC;MACHF,QAAQ,CAAC,IAAAQ,wCAAiC,EAAC;QAAET;MAAS,CAAC,CAAC,CAAC;IAC3D,CAAC,CAAC,OAAOU,KAAK,EAAE;MACd,IAAAC,iBAAQ,EAACD,KAAK,CAAC;MACfT,QAAQ,CAAC,IAAAW,wCAAiC,EAAC;QAAEZ;MAAS,CAAC,CAAC,CAAC;IAC3D;EACF,CAAC;AACH;AAEO,eAAea,4BAA4BA,CAACb,QAAQ,EAAEc,WAAW,EAAEC,qBAAqB,EAAE;EAC/F,OAAO,IAAAC,qCAAgC,EAAChB,QAAQ,EAAEc,WAAW,EAAEC,qBAAqB,CAAC;AACvF"}