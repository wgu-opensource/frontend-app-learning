{"version":3,"sources":["../../../../../src/courseware/course/course-exit/data/thunks.js"],"names":["fetchCourseRecommendations","courseKey","courseId","dispatch","recommendations","modelType","model","id","error","unsubscribeFromGoalReminders","daysPerWeek","subscribedToReminders"],"mappings":";;;;;;;;AAAA;;AAEA;;AAKA;;AAIA;;AAEe,SAASA,0BAAT,CAAoCC,SAApC,EAA+CC,QAA/C,EAAyD;AACtE,SAAO,MAAOC,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAAC,8CAAkC;AAAED,MAAAA;AAAF,KAAlC,CAAD,CAAR;;AACA,QAAI;AACF,YAAME,eAAe,GAAG,MAAM,mCAAyBH,SAAzB,CAA9B;AACAE,MAAAA,QAAQ,CAAC,6BAAY;AACnBE,QAAAA,SAAS,EAAE,gBADQ;AAEnBC,QAAAA,KAAK,EAAE;AACLC,UAAAA,EAAE,EAAEL,QADC;AAELE,UAAAA;AAFK;AAFY,OAAZ,CAAD,CAAR;AAOAD,MAAAA,QAAQ,CAAC,8CAAkC;AAAED,QAAAA;AAAF,OAAlC,CAAD,CAAR;AACD,KAVD,CAUE,OAAOM,KAAP,EAAc;AACd,6BAASA,KAAT;AACAL,MAAAA,QAAQ,CAAC,8CAAkC;AAAED,QAAAA;AAAF,OAAlC,CAAD,CAAR;AACD;AACF,GAhBD;AAiBD;;AAEM,eAAeO,4BAAf,CAA4CP,QAA5C,EAAsDQ,WAAtD,EAAmEC,qBAAnE,EAA0F;AAC/F,SAAO,2CAAiCT,QAAjC,EAA2CQ,WAA3C,EAAwDC,qBAAxD,CAAP;AACD","sourcesContent":["import { logError } from '@edx/frontend-platform/logging';\n\nimport {\n  fetchCourseRecommendationsFailure,\n  fetchCourseRecommendationsRequest,\n  fetchCourseRecommendationsSuccess,\n} from './slice';\nimport {\n  getCourseRecommendations,\n  postUnsubscribeFromGoalReminders,\n} from './api';\nimport { updateModel } from '../../../../generic/model-store';\n\nexport default function fetchCourseRecommendations(courseKey, courseId) {\n  return async (dispatch) => {\n    dispatch(fetchCourseRecommendationsRequest({ courseId }));\n    try {\n      const recommendations = await getCourseRecommendations(courseKey);\n      dispatch(updateModel({\n        modelType: 'coursewareMeta',\n        model: {\n          id: courseId,\n          recommendations,\n        },\n      }));\n      dispatch(fetchCourseRecommendationsSuccess({ courseId }));\n    } catch (error) {\n      logError(error);\n      dispatch(fetchCourseRecommendationsFailure({ courseId }));\n    }\n  };\n}\n\nexport async function unsubscribeFromGoalReminders(courseId, daysPerWeek, subscribedToReminders) {\n  return postUnsubscribeFromGoalReminders(courseId, daysPerWeek, subscribedToReminders);\n}\n"],"file":"thunks.js"}