{"version":3,"file":"CourseRecommendations.js","names":["_react","_interopRequireWildcard","require","_frontendPlatform","_analytics","_auth","_i18n","_reactRedux","_paragon","_propTypes","_interopRequireDefault","_truncateHtml","_modelStore","_thunks","_slice","_CatalogSuggestion","_PageLoading","_utils","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","messages","defineMessages","recommendationsHeading","id","description","defaultMessage","recommendationsCourseFooter","listJoin","browseCatalog","loadingRecommendations","ListStyles","punctuation","conjunction","CourseCard","_ref","original","title","image","owners","marketingUrl","onClick","intl","formatList","items","style","join","formatMessage","sp","formattedOwners","map","owner","subtitle","jsx","FormattedMessage","children","text","jsxs","Fragment","className","truncate","reserveLastWord","role","Hyperlink","destination","Card","isClickable","width","height","ImageCap","src","Header","size","Section","Footer","textElement","propTypes","PropTypes","shape","string","arrayOf","func","isRequired","intlShape","IntlCard","injectIntl","CourseRecommendations","_ref2","variant","courseId","recommendationsStatus","useSelector","state","recommendations","courseware","useModel","org","number","dispatch","useDispatch","courseKey","administrator","getAuthenticatedUser","useEffect","fetchCourseRecommendations","recommendationsLength","LOADING","sendTrackEvent","course_key","recommendations_status","recommendations_length","FAILED","LOADED","srMessage","onCardClick","url","e","preventDefault","logClick","setTimeout","window","location","href","recommendationData","recommendation","DataTable","isPaginated","itemCount","data","columns","accessor","initialState","pageSize","pageIndex","CardView","CardComponent","textDecoration","getConfig","SEARCH_CATALOG_URL","_default","exports"],"sources":["../../../../src/courseware/course/course-exit/CourseRecommendations.jsx"],"sourcesContent":["/* eslint-disable react/jsx-no-useless-fragment */\nimport React, { useEffect } from 'react';\nimport { getConfig } from '@edx/frontend-platform';\nimport { sendTrackEvent } from '@edx/frontend-platform/analytics';\nimport { getAuthenticatedUser } from '@edx/frontend-platform/auth';\nimport {\n  FormattedMessage, injectIntl, intlShape, defineMessages,\n} from '@edx/frontend-platform/i18n';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  Hyperlink, DataTable, CardView, Card,\n} from '@edx/paragon';\nimport PropTypes from 'prop-types';\nimport truncate from 'truncate-html';\nimport { useModel } from '../../../generic/model-store';\nimport fetchCourseRecommendations from './data/thunks';\nimport { FAILED, LOADED, LOADING } from './data/slice';\nimport CatalogSuggestion from './CatalogSuggestion';\nimport PageLoading from '../../../generic/PageLoading';\nimport { logClick } from './utils';\n\nconst messages = defineMessages({\n  recommendationsHeading: {\n    id: 'courseCelebration.recommendations.heading',\n    description: 'Header for recommendations section of course celebration',\n    defaultMessage: 'Keep building your skills with these courses!',\n  },\n  recommendationsCourseFooter: {\n    id: 'courseCelebration.recommendations.label', // not very descriptive, but is historical\n    description: 'Label on a discovery-card that lets a user know that it is a course card',\n    defaultMessage: 'Course',\n  },\n  listJoin: {\n    id: 'courseCelebration.recommendations.formatting.list_join',\n    description: 'Joining mark or word for a list of items, use the {sp} placeholder to include space before the joining word',\n    // eslint-disable-next-line prefer-template\n    defaultMessage: ('{style, select, '\n      + 'punctuation {, } ' // HACK: select keys must match ListStyles, above, but must be statically coded for extract\n      + 'conjunction { {sp}and } ' // HACK: interpolating a space character to get a leading-space here\n      + 'other { }}'),\n  },\n  browseCatalog: {\n    id: 'courseCelebration.recommendations.browse_catalog',\n    description: 'Link to course catalog in course celebration',\n    defaultMessage: 'Explore more courses',\n  },\n  loadingRecommendations: {\n    id: 'courseCelebration.recommendations.loading_recommendations',\n    description: 'Screen-reader text for the loading screen for recommendations',\n    defaultMessage: 'Loading recommendations',\n  },\n});\n\nconst ListStyles = {\n  punctuation: 'punctuation',\n  conjunction: 'conjunction',\n};\n\nconst CourseCard = ({\n  original: {\n    title,\n    image,\n    owners,\n    marketingUrl,\n    onClick,\n  },\n  intl,\n}) => {\n  const formatList = (items, style) => (\n    items.join(intl.formatMessage(\n      messages.listJoin,\n      { style, sp: ' ' }, // HACK: there isn't a way to escape a leading space in the format, so pass one in\n    ))\n  );\n\n  const formattedOwners = formatList(\n    owners.map(owner => owner.key),\n    ListStyles.punctuation,\n    intl,\n  );\n\n  const subtitle = (\n    <FormattedMessage\n      id=\"courseCelebration.recommendations.card.schools.label\"\n      description=\"Screenreader label for the Schools and Partners running the course.\"\n      defaultMessage=\"Schools and Partners\"\n    >{text => (\n      <>\n        <span className=\"sr-only\">{text}: </span>\n        {truncate(formattedOwners, 40, { reserveLastWord: -1 })}\n      </>\n    )}\n    </FormattedMessage>\n  );\n\n  return (\n    <div\n      role=\"group\"\n      aria-label={title}\n    >\n      <Hyperlink\n        destination={marketingUrl}\n        className=\"text-decoration-none\"\n        onClick={onClick}\n      >\n        <Card isClickable style={{ width: '21rem', height: '100%' }}>\n          <Card.ImageCap src={image.src} />\n          <Card.Header title={truncate(title, 70, { reserveLastWord: -1 })} subtitle={subtitle} size=\"sm\" />\n          {/* Section is needed for internal vertical spacing to work out. If you can remove, be my guest */}\n          <Card.Section> <></> </Card.Section>\n          <Card.Footer textElement={intl.formatMessage(messages.recommendationsCourseFooter)}><></></Card.Footer>\n        </Card>\n      </Hyperlink>\n    </div>\n  );\n};\n\nCourseCard.propTypes = {\n  original: PropTypes.shape({\n    marketingUrl: PropTypes.string,\n    title: PropTypes.string,\n    image: PropTypes.shape({\n      src: PropTypes.string,\n    }),\n    owners: PropTypes.arrayOf(PropTypes.shape({\n      key: PropTypes.string,\n    })),\n    onClick: PropTypes.func,\n  }).isRequired,\n  intl: intlShape.isRequired,\n};\n\nconst IntlCard = injectIntl(CourseCard);\n\nconst CourseRecommendations = ({ intl, variant }) => {\n  const { courseId, recommendationsStatus } = useSelector(state => ({ ...state.recommendations, ...state.courseware }));\n  const { recommendations } = useModel('coursewareMeta', courseId);\n  const { org, number } = useModel('courseHomeMeta', courseId);\n  const dispatch = useDispatch();\n\n  const courseKey = `${org}+${number}`;\n  const { administrator } = getAuthenticatedUser();\n\n  useEffect(() => {\n    dispatch(fetchCourseRecommendations(courseKey, courseId));\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch]);\n\n  const recommendationsLength = recommendations ? recommendations.length : 0;\n\n  if (recommendationsStatus && recommendationsStatus !== LOADING) {\n    sendTrackEvent('edx.ui.lms.course_exit.recommendations.viewed', {\n      course_key: courseKey,\n      recommendations_status: recommendationsStatus,\n      recommendations_length: recommendationsLength,\n    });\n  }\n\n  if (recommendationsStatus === FAILED || (recommendationsStatus === LOADED && recommendationsLength < 2)) {\n    return (<CatalogSuggestion variant={variant} />);\n  }\n\n  if (recommendationsStatus === LOADING) {\n    return <PageLoading srMessage={intl.formatMessage(messages.loadingRecommendations)} />;\n  }\n\n  const onCardClick = (url) => (e) => {\n    e.preventDefault();\n    logClick(org, courseId, administrator, 'recommendation_discovery_card');\n    setTimeout(() => {\n      window.location.href = url;\n    }, (200));\n  };\n\n  const recommendationData = recommendations.map((recommendation) => (\n    { ...recommendation, onClick: onCardClick(recommendation.marketingUrl) }\n  ));\n\n  return (\n    <div className=\"course-recommendations d-flex flex-column align-items-center\" data-testid=\"course-recommendations\">\n      <h2 className=\"text-center mb-3\">{intl.formatMessage(messages.recommendationsHeading)}</h2>\n      <div className=\"mb-2 mt-3\">\n        <DataTable\n          isPaginated\n          itemCount={recommendationsLength}\n          data={recommendationData}\n          columns={[{ Header: 'Title', accessor: 'title' }]}\n          initialState={{\n            pageSize: 3,\n            pageIndex: 0,\n          }}\n        >\n          <CardView CardComponent={IntlCard} />\n        </DataTable>\n      </div>\n      <Hyperlink\n        style={{ textDecoration: 'underline' }}\n        destination={getConfig().SEARCH_CATALOG_URL}\n        className=\"text-center\"\n      >\n        {intl.formatMessage(messages.browseCatalog)}\n      </Hyperlink>\n    </div>\n  );\n};\n\nCourseRecommendations.propTypes = {\n  intl: intlShape.isRequired,\n  variant: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(CourseRecommendations);\n"],"mappings":"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"}