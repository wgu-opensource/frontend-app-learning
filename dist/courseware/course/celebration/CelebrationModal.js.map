{"version":3,"file":"CelebrationModal.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_i18n","_paragon","_reactRedux","_claps_280x","_claps_456x","_messages","_SocialIcons","_utils","_modelStore","_jsxRuntime","_excluded","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","CelebrationModal","_ref","courseId","intl","isOpen","onClose","rest","org","celebrations","useModel","dispatch","useDispatch","wideScreen","useWindowSize","width","breakpoints","small","minWidth","useEffect","recordFirstSectionCelebration","jsx","StandardModal","footerNode","ActionRow","isStacked","className","children","Button","onClick","formatMessage","messages","forward","hasCloseButton","title","congrats","jsxs","Fragment","completed","src","ClapsMobile","alt","ClapsTablet","earned","share","analyticsId","emailSubject","socialMessage","propTypes","PropTypes","string","isRequired","intlShape","bool","func","_default","injectIntl","exports"],"sources":["../../../../src/courseware/course/celebration/CelebrationModal.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport {\n  ActionRow,\n  breakpoints,\n  Button,\n  StandardModal,\n  useWindowSize,\n} from '@edx/paragon';\n\nimport { useDispatch } from 'react-redux';\nimport ClapsMobile from './assets/claps_280x201.gif';\nimport ClapsTablet from './assets/claps_456x328.gif';\nimport messages from './messages';\nimport SocialIcons from '../../social-share/SocialIcons';\nimport { recordFirstSectionCelebration } from './utils';\nimport { useModel } from '../../../generic/model-store';\n\nconst CelebrationModal = ({\n  courseId, intl, isOpen, onClose, ...rest\n}) => {\n  const { org, celebrations } = useModel('courseHomeMeta', courseId);\n  const dispatch = useDispatch();\n  const wideScreen = useWindowSize().width >= breakpoints.small.minWidth;\n\n  useEffect(() => {\n    if (isOpen) {\n      recordFirstSectionCelebration(org, courseId, celebrations, dispatch);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n\n  return (\n    <StandardModal\n      footerNode={(\n        <ActionRow isStacked className=\"pb-2\">\n          <Button onClick={onClose}>{intl.formatMessage(messages.forward)}</Button>\n        </ActionRow>\n      )}\n      hasCloseButton={false}\n      isOpen={isOpen}\n      onClose={onClose}\n      title={(\n        <p className=\"h2 text-center mr-n5 pt-4\">{intl.formatMessage(messages.congrats)}</p>\n      )}\n      {...rest}\n    >\n      <>\n        <p className=\"text-center\">{intl.formatMessage(messages.completed)}</p>\n        {!wideScreen && <img src={ClapsMobile} alt=\"\" className=\"img-fluid\" />}\n        {wideScreen && <img src={ClapsTablet} alt=\"\" className=\"img-fluid w-100\" />}\n        <p className=\"mt-3 text-center\">\n          <strong>{intl.formatMessage(messages.earned)}</strong> {intl.formatMessage(messages.share)}\n        </p>\n        <SocialIcons\n          analyticsId=\"edx.ui.lms.celebration.social_share.clicked\"\n          courseId={courseId}\n          emailSubject={messages.emailSubject}\n          socialMessage={messages.socialMessage}\n        />\n      </>\n    </StandardModal>\n  );\n};\n\nCelebrationModal.propTypes = {\n  courseId: PropTypes.string.isRequired,\n  intl: intlShape.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(CelebrationModal);\n"],"mappings":"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"}