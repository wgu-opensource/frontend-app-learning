{"version":3,"sources":["../../../../src/courseware/course/bookmark/BookmarkButton.jsx"],"names":["addBookmarkLabel","hasBookmarkLabel","BookmarkButton","isBookmarked","isProcessing","unitId","bookmarkState","state","dispatch","toggleBookmark","default","defaultProcessing","bookmarked","bookmarkedProcessing","propTypes","PropTypes","string","isRequired","bool","defaultProps"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;AAEA,MAAMA,gBAAgB,gBACpB,qBAAC,sBAAD;AACE,EAAA,EAAE,EAAC,mCADL;AAEE,EAAA,cAAc,EAAC,oBAFjB;AAGE,EAAA,WAAW,EAAC;AAHd,EADF;AAQA,MAAMC,gBAAgB,gBACpB,qBAAC,sBAAD;AACE,EAAA,EAAE,EAAC,sCADL;AAEE,EAAA,cAAc,EAAC,YAFjB;AAGE,EAAA,WAAW,EAAC;AAHd,EADF;;AAQe,SAASC,cAAT,OAEZ;AAAA,MAFoC;AACrCC,IAAAA,YADqC;AACvBC,IAAAA,YADuB;AACTC,IAAAA;AADS,GAEpC;AACD,QAAMC,aAAa,GAAGH,YAAY,GAAG,YAAH,GAAkB,SAApD;AACA,QAAMI,KAAK,GAAGH,YAAY,GAAI,GAAEE,aAAc,YAApB,GAAkCA,aAA5D;AAEA,QAAME,QAAQ,GAAG,8BAAjB;AACA,QAAMC,cAAc,GAAG,wBAAY,MAAM;AACvC,QAAIN,YAAJ,EAAkB;AAChBK,MAAAA,QAAQ,CAAC,4BAAeH,MAAf,CAAD,CAAR;AACD,KAFD,MAEO;AACLG,MAAAA,QAAQ,CAAC,yBAAYH,MAAZ,CAAD,CAAR;AACD;AACF,GANsB,EAMpB,CAACF,YAAD,EAAeE,MAAf,CANoB,CAAvB;AAQA,sBACE,qBAAC,uBAAD;AACE,IAAA,OAAO,EAAC,MADV;AAEE,IAAA,SAAS,EAAC,oCAFZ;AAGE,IAAA,OAAO,EAAEI,cAHX;AAIE,IAAA,KAAK,EAAEF,KAJT;AAKE,IAAA,cAAc,EAAE,CAAC,mBAAD,EAAsB,sBAAtB,CALlB;AAME,IAAA,MAAM,EAAE;AACNG,MAAAA,OAAO,EAAEV,gBADH;AAENW,MAAAA,iBAAiB,EAAEX,gBAFb;AAGNY,MAAAA,UAAU,EAAEX,gBAHN;AAINY,MAAAA,oBAAoB,EAAEZ;AAJhB,KANV;AAYE,IAAA,KAAK,EAAE;AACLS,MAAAA,OAAO,eAAE,qBAAC,4BAAD;AAAqB,QAAA,SAAS,EAAC;AAA/B,QADJ;AAELC,MAAAA,iBAAiB,eAAE,qBAAC,4BAAD;AAAqB,QAAA,SAAS,EAAC;AAA/B,QAFd;AAGLC,MAAAA,UAAU,eAAE,qBAAC,2BAAD;AAAoB,QAAA,SAAS,EAAC;AAA9B,QAHP;AAILC,MAAAA,oBAAoB,eAAE,qBAAC,2BAAD;AAAoB,QAAA,SAAS,EAAC;AAA9B;AAJjB;AAZT,IADF;AAqBD;;AAEDX,cAAc,CAACY,SAAf,GAA2B;AACzBT,EAAAA,MAAM,EAAEU,mBAAUC,MAAV,CAAiBC,UADA;AAEzBd,EAAAA,YAAY,EAAEY,mBAAUG,IAFC;AAGzBd,EAAAA,YAAY,EAAEW,mBAAUG,IAAV,CAAeD;AAHJ,CAA3B;AAMAf,cAAc,CAACiB,YAAf,GAA8B;AAC5BhB,EAAAA,YAAY,EAAE;AADc,CAA9B","sourcesContent":["import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { StatefulButton } from '@edx/paragon';\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport { useDispatch } from 'react-redux';\nimport BookmarkOutlineIcon from './BookmarkOutlineIcon';\nimport BookmarkFilledIcon from './BookmarkFilledIcon';\nimport { removeBookmark, addBookmark } from './data/thunks';\n\nconst addBookmarkLabel = (\n  <FormattedMessage\n    id=\"unit.bookmark.button.add.bookmark\"\n    defaultMessage=\"Bookmark this page\"\n    description=\"The button to bookmark a page\"\n  />\n);\n\nconst hasBookmarkLabel = (\n  <FormattedMessage\n    id=\"unit.bookmark.button.remove.bookmark\"\n    defaultMessage=\"Bookmarked\"\n    description=\"The button to show a page is bookmarked and the button to remove that bookmark\"\n  />\n);\n\nexport default function BookmarkButton({\n  isBookmarked, isProcessing, unitId,\n}) {\n  const bookmarkState = isBookmarked ? 'bookmarked' : 'default';\n  const state = isProcessing ? `${bookmarkState}Processing` : bookmarkState;\n\n  const dispatch = useDispatch();\n  const toggleBookmark = useCallback(() => {\n    if (isBookmarked) {\n      dispatch(removeBookmark(unitId));\n    } else {\n      dispatch(addBookmark(unitId));\n    }\n  }, [isBookmarked, unitId]);\n\n  return (\n    <StatefulButton\n      variant=\"link\"\n      className=\"px-1 ml-n1 btn-sm text-primary-500\"\n      onClick={toggleBookmark}\n      state={state}\n      disabledStates={['defaultProcessing', 'bookmarkedProcessing']}\n      labels={{\n        default: addBookmarkLabel,\n        defaultProcessing: addBookmarkLabel,\n        bookmarked: hasBookmarkLabel,\n        bookmarkedProcessing: hasBookmarkLabel,\n      }}\n      icons={{\n        default: <BookmarkOutlineIcon className=\"text-primary\" />,\n        defaultProcessing: <BookmarkOutlineIcon className=\"text-primary\" />,\n        bookmarked: <BookmarkFilledIcon className=\"text-primary\" />,\n        bookmarkedProcessing: <BookmarkFilledIcon className=\"text-primary\" />,\n      }}\n    />\n  );\n}\n\nBookmarkButton.propTypes = {\n  unitId: PropTypes.string.isRequired,\n  isBookmarked: PropTypes.bool,\n  isProcessing: PropTypes.bool.isRequired,\n};\n\nBookmarkButton.defaultProps = {\n  isBookmarked: false,\n};\n"],"file":"BookmarkButton.js"}