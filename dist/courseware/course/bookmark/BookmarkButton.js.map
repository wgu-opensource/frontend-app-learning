{"version":3,"file":"BookmarkButton.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_paragon","_i18n","_reactRedux","_BookmarkOutlineIcon","_BookmarkFilledIcon","_thunks","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","addBookmarkLabel","jsx","FormattedMessage","id","defaultMessage","description","hasBookmarkLabel","BookmarkButton","_ref","isBookmarked","isProcessing","unitId","bookmarkState","state","dispatch","useDispatch","toggleBookmark","useCallback","removeBookmark","addBookmark","StatefulButton","variant","className","onClick","disabledStates","labels","defaultProcessing","bookmarked","bookmarkedProcessing","icons","propTypes","PropTypes","string","isRequired","bool","defaultProps","_default","exports"],"sources":["../../../../src/courseware/course/bookmark/BookmarkButton.jsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { StatefulButton } from '@edx/paragon';\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport { useDispatch } from 'react-redux';\nimport BookmarkOutlineIcon from './BookmarkOutlineIcon';\nimport BookmarkFilledIcon from './BookmarkFilledIcon';\nimport { removeBookmark, addBookmark } from './data/thunks';\n\nconst addBookmarkLabel = (\n  <FormattedMessage\n    id=\"unit.bookmark.button.add.bookmark\"\n    defaultMessage=\"Bookmark this page\"\n    description=\"The button to bookmark a page\"\n  />\n);\n\nconst hasBookmarkLabel = (\n  <FormattedMessage\n    id=\"unit.bookmark.button.remove.bookmark\"\n    defaultMessage=\"Bookmarked\"\n    description=\"The button to show a page is bookmarked and the button to remove that bookmark\"\n  />\n);\n\nconst BookmarkButton = ({\n  isBookmarked, isProcessing, unitId,\n}) => {\n  const bookmarkState = isBookmarked ? 'bookmarked' : 'default';\n  const state = isProcessing ? `${bookmarkState}Processing` : bookmarkState;\n\n  const dispatch = useDispatch();\n  const toggleBookmark = useCallback(() => {\n    if (isBookmarked) {\n      dispatch(removeBookmark(unitId));\n    } else {\n      dispatch(addBookmark(unitId));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isBookmarked, unitId]);\n\n  return (\n    <StatefulButton\n      variant=\"link\"\n      className=\"px-1 ml-n1 btn-sm text-primary-500\"\n      onClick={toggleBookmark}\n      state={state}\n      disabledStates={['defaultProcessing', 'bookmarkedProcessing']}\n      labels={{\n        default: addBookmarkLabel,\n        defaultProcessing: addBookmarkLabel,\n        bookmarked: hasBookmarkLabel,\n        bookmarkedProcessing: hasBookmarkLabel,\n      }}\n      icons={{\n        default: <BookmarkOutlineIcon className=\"text-primary\" />,\n        defaultProcessing: <BookmarkOutlineIcon className=\"text-primary\" />,\n        bookmarked: <BookmarkFilledIcon className=\"text-primary\" />,\n        bookmarkedProcessing: <BookmarkFilledIcon className=\"text-primary\" />,\n      }}\n    />\n  );\n};\n\nBookmarkButton.propTypes = {\n  unitId: PropTypes.string.isRequired,\n  isBookmarked: PropTypes.bool,\n  isProcessing: PropTypes.bool.isRequired,\n};\n\nBookmarkButton.defaultProps = {\n  isBookmarked: false,\n};\n\nexport default BookmarkButton;\n"],"mappings":"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"}