{"version":3,"file":"SidebarBase.js","names":["_i18n","require","_paragon","_icons","_classnames","_interopRequireDefault","_propTypes","_react","_interopRequireWildcard","_hooks","_messages","_SidebarContext","_jsxRuntime","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","SidebarBase","_ref","intl","title","ariaLabel","sidebarId","className","children","showTitleBar","width","toggleSidebar","shouldDisplayFullScreen","currentSidebar","useContext","SidebarContext","receiveMessage","useCallback","_ref2","data","type","useEventListener","jsxs","classNames","style","onClick","onKeyDown","role","tabIndex","alt","formatMessage","messages","responsiveCloseNotificationTray","jsx","Icon","src","ArrowBackIos","Fragment","IconButton","Close","size","iconAs","variant","closeNotificationTrigger","propTypes","intlShape","isRequired","PropTypes","string","element","bool","defaultProps","_default","injectIntl","exports"],"sources":["../../../../../src/courseware/course/sidebar/common/SidebarBase.jsx"],"sourcesContent":["import { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Icon, IconButton } from '@edx/paragon';\nimport { ArrowBackIos, Close } from '@edx/paragon/icons';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useContext } from 'react';\nimport { useEventListener } from '../../../../generic/hooks';\nimport messages from '../../messages';\nimport SidebarContext from '../SidebarContext';\n\nconst SidebarBase = ({\n  intl,\n  title,\n  ariaLabel,\n  sidebarId,\n  className,\n  children,\n  showTitleBar,\n  width,\n}) => {\n  const {\n    toggleSidebar,\n    shouldDisplayFullScreen,\n    currentSidebar,\n  } = useContext(SidebarContext);\n\n  const receiveMessage = useCallback(({ data }) => {\n    const { type } = data;\n    if (type === 'learning.events.sidebar.close') {\n      toggleSidebar(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sidebarId, toggleSidebar]);\n\n  useEventListener('message', receiveMessage);\n\n  return (\n    <section\n      className={classNames('ml-0 ml-lg-4 border border-light-400 rounded-sm h-auto align-top', {\n        'bg-white m-0 border-0 fixed-top vh-100 rounded-0': shouldDisplayFullScreen,\n        'min-vh-100': !shouldDisplayFullScreen,\n        'd-none': currentSidebar !== sidebarId,\n      }, className)}\n      data-testid={`sidebar-${sidebarId}`}\n      style={{ width: shouldDisplayFullScreen ? '100%' : width }}\n      aria-label={ariaLabel}\n    >\n      {shouldDisplayFullScreen ? (\n        <div\n          className=\"pt-2 pb-2.5 border-bottom border-light-400 d-flex align-items-center ml-2\"\n          onClick={() => toggleSidebar(null)}\n          onKeyDown={() => toggleSidebar(null)}\n          role=\"button\"\n          tabIndex=\"0\"\n          alt={intl.formatMessage(messages.responsiveCloseNotificationTray)}\n        >\n          <Icon src={ArrowBackIos} />\n          <span className=\"font-weight-bold m-2 d-inline-block\">\n            {intl.formatMessage(messages.responsiveCloseNotificationTray)}\n          </span>\n        </div>\n      ) : null}\n      {showTitleBar && (\n        <>\n          <div className=\"d-flex align-items-center\">\n            <span className=\"p-2.5 d-inline-block\">{title}</span>\n            {shouldDisplayFullScreen\n              ? null\n              : (\n                <div className=\"d-inline-flex mr-2 mt-1.5 ml-auto\">\n                  <IconButton\n                    src={Close}\n                    size=\"sm\"\n                    iconAs={Icon}\n                    onClick={() => toggleSidebar(null)}\n                    variant=\"primary\"\n                    alt={intl.formatMessage(messages.closeNotificationTrigger)}\n                  />\n                </div>\n              )}\n          </div>\n          <div className=\"py-1 bg-gray-100 border-top border-bottom border-light-400\" />\n        </>\n      )}\n      {children}\n    </section>\n  );\n};\n\nSidebarBase.propTypes = {\n  intl: intlShape.isRequired,\n  title: PropTypes.string.isRequired,\n  ariaLabel: PropTypes.string.isRequired,\n  sidebarId: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  children: PropTypes.element.isRequired,\n  showTitleBar: PropTypes.bool,\n  width: PropTypes.string,\n};\n\nSidebarBase.defaultProps = {\n  width: '31rem',\n  showTitleBar: true,\n  className: '',\n};\n\nexport default injectIntl(SidebarBase);\n"],"mappings":"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"}