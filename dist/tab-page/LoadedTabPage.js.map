{"version":3,"file":"LoadedTabPage.js","names":["_react","_interopRequireDefault","require","_propTypes","_reactHelmet","_frontendPlatform","_paragon","_courseTabs","_modelStore","_userMessages","_streakCelebration","_instructorToolbar","_enrollmentAlert","_logistrationAlert","_ProductTours","_jsxRuntime","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","LoadedTabPage","_ref","activeTabSlug","children","courseId","metadataModel","unitId","celebrations","org","originalUserIsStaff","tabs","title","verifiedMode","useModel","logistrationAlert","useLogistrationAlert","enrollmentAlert","useEnrollmentAlert","activeTab","tab","slug","streakLengthToCelebrate","streakDiscountCouponEnabled","streakDiscountEnabled","isStreakCelebrationOpen","closeStreakCelebration","useToggle","jsxs","Fragment","jsx","Helmet","getConfig","SITE_NAME","id","className","AlertList","topic","customAlerts","CourseTabsNavigation","propTypes","PropTypes","string","isRequired","node","defaultProps","_default","exports"],"sources":["../../src/tab-page/LoadedTabPage.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet';\n\nimport { getConfig } from '@edx/frontend-platform';\nimport { useToggle } from '@edx/paragon';\n\nimport { CourseTabsNavigation } from '../course-tabs';\nimport { useModel } from '../generic/model-store';\nimport { AlertList } from '../generic/user-messages';\nimport StreakModal from '../shared/streak-celebration';\nimport InstructorToolbar from '../instructor-toolbar';\nimport useEnrollmentAlert from '../alerts/enrollment-alert';\nimport useLogistrationAlert from '../alerts/logistration-alert';\n\nimport ProductTours from '../product-tours/ProductTours';\n\nconst LoadedTabPage = ({\n  activeTabSlug,\n  children,\n  courseId,\n  metadataModel,\n  unitId,\n}) => {\n  const {\n    celebrations,\n    org,\n    originalUserIsStaff,\n    tabs,\n    title,\n    verifiedMode,\n  } = useModel('courseHomeMeta', courseId);\n\n  // Logistration and enrollment alerts are only really used for the outline tab, but loaded here to put them above\n  // breadcrumbs when they are visible.\n  const logistrationAlert = useLogistrationAlert(courseId);\n  const enrollmentAlert = useEnrollmentAlert(courseId);\n\n  const activeTab = tabs.filter(tab => tab.slug === activeTabSlug)[0];\n\n  const streakLengthToCelebrate = celebrations && celebrations.streakLengthToCelebrate;\n  const streakDiscountCouponEnabled = celebrations && celebrations.streakDiscountEnabled && verifiedMode;\n  const [isStreakCelebrationOpen,, closeStreakCelebration] = useToggle(streakLengthToCelebrate);\n\n  return (\n    <>\n      <ProductTours\n        activeTab={activeTabSlug}\n        courseId={courseId}\n        isStreakCelebrationOpen={isStreakCelebrationOpen}\n        org={org}\n      />\n      <Helmet>\n        <title>{`${activeTab ? `${activeTab.title} | ` : ''}${title} | ${getConfig().SITE_NAME}`}</title>\n      </Helmet>\n      {originalUserIsStaff && (\n        <InstructorToolbar\n          courseId={courseId}\n          unitId={unitId}\n          tab={activeTabSlug}\n        />\n      )}\n      <StreakModal\n        courseId={courseId}\n        metadataModel={metadataModel}\n        streakLengthToCelebrate={streakLengthToCelebrate}\n        isStreakCelebrationOpen={!!isStreakCelebrationOpen}\n        closeStreakCelebration={closeStreakCelebration}\n        streakDiscountCouponEnabled={streakDiscountCouponEnabled}\n        verifiedMode={verifiedMode}\n      />\n      <main id=\"main-content\" className=\"d-flex flex-column flex-grow-1\">\n        <AlertList\n          topic=\"outline\"\n          className=\"mx-5 mt-3\"\n          customAlerts={{\n            ...enrollmentAlert,\n            ...logistrationAlert,\n          }}\n        />\n        <CourseTabsNavigation tabs={tabs} className=\"mb-3\" activeTabSlug={activeTabSlug} />\n        <div className=\"container-xl\">\n          {children}\n        </div>\n      </main>\n    </>\n  );\n};\n\nLoadedTabPage.propTypes = {\n  activeTabSlug: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  courseId: PropTypes.string.isRequired,\n  metadataModel: PropTypes.string,\n  unitId: PropTypes.string,\n};\n\nLoadedTabPage.defaultProps = {\n  children: null,\n  metadataModel: 'courseHomeMeta',\n  unitId: null,\n};\n\nexport default LoadedTabPage;\n"],"mappings":"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"}