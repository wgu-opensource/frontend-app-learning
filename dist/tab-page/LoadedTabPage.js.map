{"version":3,"sources":["../../src/tab-page/LoadedTabPage.jsx"],"names":["LoadedTabPage","activeTabSlug","children","courseId","metadataModel","unitId","celebrations","org","originalUserIsStaff","tabs","title","verifiedMode","logistrationAlert","enrollmentAlert","activeTab","filter","tab","slug","streakLengthToCelebrate","streakDiscountCouponEnabled","streakDiscountEnabled","isStreakCelebrationOpen","closeStreakCelebration","SITE_NAME","propTypes","PropTypes","string","isRequired","node","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet';\n\nimport { getConfig } from '@edx/frontend-platform';\nimport { useToggle } from '@edx/paragon';\n\nimport { CourseTabsNavigation } from '../course-tabs';\nimport { useModel } from '../generic/model-store';\nimport { AlertList } from '../generic/user-messages';\nimport StreakModal from '../shared/streak-celebration';\nimport InstructorToolbar from '../instructor-toolbar';\nimport useEnrollmentAlert from '../alerts/enrollment-alert';\nimport useLogistrationAlert from '../alerts/logistration-alert';\n\nimport ProductTours from '../product-tours/ProductTours';\n\nfunction LoadedTabPage({\n  activeTabSlug,\n  children,\n  courseId,\n  metadataModel,\n  unitId,\n}) {\n  const {\n    celebrations,\n    org,\n    originalUserIsStaff,\n    tabs,\n    title,\n    verifiedMode,\n  } = useModel('courseHomeMeta', courseId);\n\n  // Logistration and enrollment alerts are only really used for the outline tab, but loaded here to put them above\n  // breadcrumbs when they are visible.\n  const logistrationAlert = useLogistrationAlert(courseId);\n  const enrollmentAlert = useEnrollmentAlert(courseId);\n\n  const activeTab = tabs.filter(tab => tab.slug === activeTabSlug)[0];\n\n  const streakLengthToCelebrate = celebrations && celebrations.streakLengthToCelebrate;\n  const streakDiscountCouponEnabled = celebrations && celebrations.streakDiscountEnabled && verifiedMode;\n  const [isStreakCelebrationOpen,, closeStreakCelebration] = useToggle(streakLengthToCelebrate);\n\n  return (\n    <>\n      <ProductTours\n        activeTab={activeTabSlug}\n        courseId={courseId}\n        isStreakCelebrationOpen={isStreakCelebrationOpen}\n        org={org}\n      />\n      <Helmet>\n        <title>{`${activeTab ? `${activeTab.title} | ` : ''}${title} | ${getConfig().SITE_NAME}`}</title>\n      </Helmet>\n      {originalUserIsStaff && (\n        <InstructorToolbar\n          courseId={courseId}\n          unitId={unitId}\n          tab={activeTabSlug}\n        />\n      )}\n      <StreakModal\n        courseId={courseId}\n        metadataModel={metadataModel}\n        streakLengthToCelebrate={streakLengthToCelebrate}\n        isStreakCelebrationOpen={!!isStreakCelebrationOpen}\n        closeStreakCelebration={closeStreakCelebration}\n        streakDiscountCouponEnabled={streakDiscountCouponEnabled}\n        verifiedMode={verifiedMode}\n      />\n      <main id=\"main-content\" className=\"d-flex flex-column flex-grow-1\">\n        <AlertList\n          topic=\"outline\"\n          className=\"mx-5 mt-3\"\n          customAlerts={{\n            ...enrollmentAlert,\n            ...logistrationAlert,\n          }}\n        />\n        <CourseTabsNavigation tabs={tabs} className=\"mb-3\" activeTabSlug={activeTabSlug} />\n        <div className=\"container-xl\">\n          {children}\n        </div>\n      </main>\n    </>\n  );\n}\n\nLoadedTabPage.propTypes = {\n  activeTabSlug: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  courseId: PropTypes.string.isRequired,\n  metadataModel: PropTypes.string,\n  unitId: PropTypes.string,\n};\n\nLoadedTabPage.defaultProps = {\n  children: null,\n  metadataModel: 'courseHomeMeta',\n  unitId: null,\n};\n\nexport default LoadedTabPage;\n"],"file":"LoadedTabPage.js"}